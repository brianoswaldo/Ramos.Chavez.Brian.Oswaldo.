<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<plcProject caseSensitive="false" useCustomWorkspace="true" debugMode="false" extcheck="true" SFCControl="false" strictPointerCheck="true" strictEnumsCheck="true" copyWarningThreshold="200" version="2.3" useLD2="true" useFBMethods="false">
	<image>practica.2.imgx</image>
	<commSettings>GDB:0,1000#TCPIP:192.168.43.193/5000</commSettings>
	<sources>
		<main>
			<resources/>
			<tasks>
				<task name="Fast">
					<program>main</program>
					<program>yo_que_se_al_cubo</program>
				</task>
			</tasks>
			<globalVars>
				<group name="Ungrouped_vars">
					<var name="cnt" type="INT"/>
				</group>
				<group name="I_O_mappings">
					<var name="O1" type="BOOL">
						<address type="Q" typeVar="X" index="0" subIndex="3"/>
					</var>
					<var name="O2" type="BOOL">
						<address type="Q" typeVar="X" index="0" subIndex="4"/>
					</var>
					<var name="O3" type="BOOL">
						<address type="Q" typeVar="X" index="0" subIndex="5"/>
					</var>
					<var name="O4" type="BOOL">
						<address type="Q" typeVar="X" index="0" subIndex="6"/>
					</var>
					<var name="O5" type="BOOL">
						<address type="Q" typeVar="X" index="0" subIndex="7"/>
					</var>
					<var name="I1" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="8"/>
					</var>
					<var name="I2" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="9"/>
					</var>
					<var name="I3" type="BOOL">
						<address type="I" typeVar="X" index="0" subIndex="10"/>
					</var>
				</group>
			</globalVars>
			<retainVars>
				<group name="Ungrouped_vars"/>
				<group name="I_O_mappings"/>
			</retainVars>
			<constantVars>
				<group name="Ungrouped_vars"/>
				<group name="I_O_mappings"/>
			</constantVars>
			<iecVarsDeclaration>
				<group name="Ungrouped_vars">
					<iecDeclaration active="FALSE"/>
				</group>
				<group name="I_O_mappings">
					<iecDeclaration active="FALSE"/>
				</group>
			</iecVarsDeclaration>
			<functions/>
			<functionBlocks/>
			<programs>
				<program name="main" version="1.0.0" creationDate="0" lastModifiedDate="0">
					<vars/>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="ST">
						<![CDATA[
cnt := cnt + 1;
]]>
					</sourceCode>
				</program>
				<program name="yo_que_se_al_cubo" version="1.0.0" creationDate="1549641260" lastModifiedDate="1549982775">
					<vars>
						<localVars>
							<var name="O1" type="BOOL">
								<address type="Q" typeVar="X" index="0" subIndex="3"/>
							</var>
							<var name="O2" type="BOOL">
								<address type="Q" typeVar="X" index="0" subIndex="4"/>
							</var>
							<var name="O3" type="BOOL">
								<address type="Q" typeVar="X" index="0" subIndex="5"/>
							</var>
							<var name="O4" type="BOOL">
								<address type="Q" typeVar="X" index="0" subIndex="6"/>
							</var>
							<var name="O5" type="BOOL">
								<address type="Q" typeVar="X" index="0" subIndex="7"/>
							</var>
							<var name="I1" type="BOOL">
								<address type="I" typeVar="X" index="0" subIndex="8"/>
							</var>
							<var name="I2" type="BOOL">
								<address type="I" typeVar="X" index="0" subIndex="9"/>
							</var>
							<var name="I3" type="BOOL">
								<address type="I" typeVar="X" index="0" subIndex="10"/>
							</var>
						</localVars>
					</vars>
					<iecDeclaration active="FALSE"/>
					<sourceCode type="LD2">
						<LD2 version="1">
							<network label="" id="1" nextID="10" comment="">
								<assignment fromTmpVar="">
									<input>
										<or id="6">
											<and id="4">
												<contact name="I1" type="Normal" id="0"/>
												<contact name="O2" type="Closed" id="2"/>
											</and>
											<contact name="O2" type="Normal" id="5"/>
											<and id="9">
												<contact name="I3" type="Normal" id="7"/>
												<contact name="O2" type="Closed" id="8"/>
											</and>
										</or>
									</input>
									<outputs>
										<coil name="O1" type="Normal" id="1"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="2" nextID="9" comment="">
								<assignment fromTmpVar="">
									<input>
										<or id="6">
											<and id="4">
												<contact name="O1" type="Normal" id="0"/>
												<contact name="O3" type="Closed" id="2"/>
											</and>
											<and id="8">
												<contact name="O3" type="Normal" id="5"/>
												<contact name="O1" type="Closed" id="7"/>
											</and>
										</or>
									</input>
									<outputs>
										<coil name="O2" type="Normal" id="1"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="3" nextID="13" comment="">
								<assignment fromTmpVar="">
									<input>
										<or id="6">
											<and id="4">
												<contact name="O2" type="Normal" id="0"/>
												<contact name="O4" type="Closed" id="2"/>
											</and>
											<and id="9">
												<contact name="O4" type="Normal" id="5"/>
												<contact name="O2" type="Closed" id="7"/>
											</and>
											<and id="12">
												<contact name="O2" type="Normal" id="10"/>
												<contact name="O4" type="Normal" id="11"/>
											</and>
										</or>
									</input>
									<outputs>
										<coil name="O3" type="Normal" id="1"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="4" nextID="9" comment="">
								<assignment fromTmpVar="">
									<input>
										<or id="6">
											<and id="4">
												<contact name="O3" type="Normal" id="0"/>
												<contact name="O5" type="Closed" id="2"/>
											</and>
											<and id="8">
												<contact name="O5" type="Normal" id="5"/>
												<contact name="O3" type="Closed" id="7"/>
											</and>
										</or>
									</input>
									<outputs>
										<coil name="O4" type="Normal" id="1"/>
									</outputs>
								</assignment>
							</network>
							<network label="" id="5" nextID="10" comment="">
								<assignment fromTmpVar="">
									<input>
										<or id="3">
											<contact name="O4" type="Normal" id="0"/>
											<and id="6">
												<contact name="I2" type="Normal" id="2"/>
												<contact name="O4" type="Closed" id="4"/>
											</and>
											<and id="9">
												<contact name="I3" type="Normal" id="7"/>
												<contact name="O4" type="Closed" id="8"/>
											</and>
										</or>
									</input>
									<outputs>
										<coil name="O5" type="Normal" id="1"/>
									</outputs>
								</assignment>
							</network>
						</LD2>
					</sourceCode>
				</program>
			</programs>
			<macros/>
			<structs/>
			<typedefs/>
			<enums/>
			<subranges/>
			<interfaces/>
		</main>
		<target id="RaspPI_2p0" name="practica.2.tgt" fullXml="false">
			<![CDATA[(************************************************************************)
(*                                                                      *)
(*	Description: Definition of target variables and functions           *)
(*                                                                      *)
(************************************************************************)




(************************************************************************)
(*                                                                      *)
(*   GLOBAL VARIABLES                                                   *)
(*                                                                      *)
(************************************************************************)

VAR_GLOBAL

	{G:"Internal variables"}
	sysPLCStatus			AT %MD60000.0 : PLC_Status;		{ DE:"Internal PLC Status"}

	{G:"System Timers"}
	sysTimer 		AT %MD60000.0 	: UDINT;	{ DE:"System timer [ms]"}

	{G:"Plugins data allocation"}
	sysPluginsDataRO AT %MB100.0 : ARRAY[0..19999] OF BYTE;  { IO:"RO allocation area for plugins" }
	sysPluginsDataRW AT %MB101.0 : ARRAY[0..19999] OF BYTE;  { IO:"RW allocation area for plugins" }
	
	{G:"User data blocks"}
	sysUserDataBlock 		AT %MB200.0 : ARRAY[ 0..65535 ] OF BYTE;	{ IO:"Data block available for user data mapping" }
	sysUserDataBlockRetain 	AT %MB201.0 : ARRAY[ 0..4095 ] OF BYTE;	{ IO:"Data block available for user data mapping - Retain DB" }
	
	{G:"Time and date"}
	sysHours				AT	%MB60002.4 : USINT;		{ DE:"Values 0-23"}
	sysMinutes				AT	%MB60002.5 : USINT;		{ DE:"Values 0-59"}
	sysSeconds				AT	%MB60002.6 : USINT;		{ DE:"Values 0-59"}
	sysDay					AT	%MB60002.7 : USINT;		{ DE:"Values 1-31"}
	sysDayOfWeek			AT	%MB60002.8 : USINT;		{ DE:"Values 0-6 where 0 is Sunday "}
	sysMonth				AT	%MB60002.9 : USINT;		{ DE:"Values 1-12"}
	sysYear					AT	%MW60002.10 : UINT;		{ DE:"Values 4 digit"}
	
	sysDigitalInputs  AT %IX0.0 	: ARRAY[ 0..63 ] OF BOOL;
	sysDigitalOutputs  AT %QX0.0 	: ARRAY[ 0..63 ] OF BOOL;
END_VAR


(************************)
(*                      *)
(*      STRUCTURES      *)
(*                      *)
(************************)

TYPE

	PLC_Status : STRUCT { DE:"PLC engine status" }
		systemTime : UDINT; { DE:"Absolute system value" }
		IOCycleTime : UDINT; { DE:"I/O cycle period" }
		IOCycleDuration : UDINT; { DE:"Duration of I/O cycle" }
		IOOvrTreshold : UDINT; { DE:"Treshold for I/O cycle overtime" }
		IORealPeriod  : UDINT; { DE:"Real I/O period" }
	END_STRUCT;

END_TYPE


(************************************************************************)    
(*                                                                      *)    
(*   EMBEDDED FUNCTIONS                                                 *)    
(*                                                                      *)    
(************************************************************************)   


]]>
		</target>
		<targetXML name="practica.2.tgtx" fullXml="true">
			<target>
				<resources>
					<resource name="RaspPI" processor="ARM32_VFP2">
						<task id="0" name="Fast" period="10000" type="cyclic" descr="Fast task">
							<constraints>
								<validPeriods>
									<period>1000</period>
									<period>2000</period>
									<period>5000</period>
									<period>10000</period>
								</validPeriods>
							</constraints>
						</task>
						<task id="1" name="Slow" type="cyclic" period="20000" descr="Slow task">
							<constraints multipleOfTask="0" maxPeriod="1000000"/>
						</task>
						<task id="2" name="Background" period="100000" type="cyclic" descr="Background task"/>
						<task id="3" name="Boot" type="single" period="0" descr="Boot task"/>
						<task id="4" name="Init" type="single" period="0" descr="Init task"/>
					</resource>
				</resources>
			</target>
		</targetXML>
		<libraries>
			<lib version="1.0.2" name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\..\..\LogicLab5\Libraries\Standard.plclib" fullXml="true" link="true">
				<descr>Release notes:
- 1.0.2 : changed the behaviour of R_TRIG to be fully compliant to IEC 61131-3. Even after a cold restart R_TRIG.Q will now return TRUE once when R_TRIG.CLK is connected to TRUE.
		</descr>
				<libWorkspace>
					<folder id="7" name="Standard">
						<folder name="Timers">
							<Pou name="TOF"/>
							<Pou name="TON"/>
						</folder>
						<folder name="Set/reset">
							<Pou name="TP"/>
							<Pou name="RS"/>
							<Pou name="SR"/>
						</folder>
						<folder name="Edge detection">
							<Pou name="F_TRIG" genHidden="false"/>
							<Pou name="R_TRIG" genHidden="false"/>
						</folder>
						<folder name="Counters">
							<Pou name="CTD"/>
							<Pou name="CTD_DINT"/>
							<Pou name="CTD_UDINT"/>
							<Pou name="CTU_DINT"/>
							<Pou name="CTU"/>
							<Pou name="CTU_UDINT"/>
							<Pou name="CTUD"/>
							<Pou name="CTUD_DINT"/>
							<Pou name="CTUD_UDINT"/>
						</folder>
					</folder>
				</libWorkspace>
				<globalVars/>
				<retainVars/>
				<constantVars/>
				<functions/>
				<functionBlocks>
					<functionBlock name="CTUD_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTUD_UDINT but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTUD_UDINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10

l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU

	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	16#FFFFFFFF
	GT		CV
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV

l2:
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		0
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTUD_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTUD but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTUD_DINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10

l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU

	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	CV
	LT		16#7FFFFFFF
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV

l2:
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		-2147483648
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTUD" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up-Down counter</title>
						<descr>&lt;HTML&gt;The CTUD block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and &lt;b&gt;count down&lt;/b&gt; for each  FALSE-to-TRUE transition of the input CD.&lt;br/&gt;
Sets the QU output when the accumulated value (CV) reaches the preset value (PV) value and sets the QD output when the accumulated value (CV) becomes 0.&lt;br/&gt;
&lt;img src= ctudscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of LD set CV to PV&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output QU is set&lt;/li&gt;
&lt;li&gt;when CV becomes 0 the output QD is set&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up input</descr>
								</var>
								<var name="CD" type="BOOL">
									<descr>Count-down input</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="QU" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="QD" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="MEMCU" type="BOOL">
									<descr>Previous value of CU</descr>
								</var>
								<var name="MEMCD" type="BOOL">
									<descr>Previous value of CD</descr>
								</var>
								<var name="CUEDGE" type="BOOL">
									<descr>True whenever a posedge on CU is detected</descr>
								</var>
								<var name="CDEDGE" type="BOOL">
									<descr>True whenever a posedge on CD is detected</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(* Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l10

l0:
	(* Check for preset input *)
	LD		LD
	JMPCN	l1
	
	LD		PV
	ST		CV
	JMP		l10
	
l1:
	(* Check for posedge on CU *)
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	(* Store CU value for next cycle *)	
	LD 		CU
	ST 		MEMCU
	
	(* Check for posedge on CD *)
	LD		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	(* Store CD value for next cycle *)	
	LD 		CD
	ST 		MEMCD

	(* Check for simultaneous posedges on *)
	LD		CUEDGE
	AND		CDEDGE
	JMPC	l10
	
	(* ASSERT(!CUEDGE || !CDEDGE) *)

	(* Check if posedge on CU and we are in bounds *)
	LD		CUEDGE
	AND(	CV
	LT		16#7FFF
	)
	JMPCN	l2
	
	(* ASSERT(CUEDGE) *)
	(* Increment *)
	LD		CV
	ADD		1
	ST		CV
	
l2: 
    (* Check if posedge on CD and we are in bounds *)
	LD		CDEDGE
	AND(	CV
	GT		-32768
	)
	JMPCN	l10
	
	(* ASSERT(CDEDGE) *)
	(* Decrement *)
	LD		CV
	SUB		1
	ST		CV
	
	(* ASSERT(!CUEDGE && !CDEDGE) *)
	
l10:
	(* Up counter output *)
	LD		CV
	GE		PV
	ST		QU

	(* Down counter output *)
	LD		CV
	LE		0
	ST		QD
]]>
						</sourceCode>
						<images>
							<image name="ctudscheme.png" width="376" height="244">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctud48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC5UlEQVRoge1YoZLbMBB92yns
gRRcZ2xWHtSZfEGKDxXHKCHH8wvHW3KHHFzSooLeF1yn6Ep7zAIBNcgHbEEkZ61IthS7OWea
N6ORJa1Xb61drSXgjDP+b5Cnn11jzPxv2USAaEvvhWOMrXrQsA2wSQ/eiJdW27iN04WGCJcL
nRTOBjw3WrfRJMlvAczF2F1RzBb2C2m6WgK4cegqAbwH8FO35wBufXJKZUYOzAwiQpLkDICU
yvZesoPYhXvxPPdKbQneOfrnuiwi5QDAkAcATpJ8z4ioRKaV3SmVLWRSG0/W+FN886gCa8J7
q+aSUyqr5AT5GueimDUmslbYGfnx4fIQNY3wkAcATtNV1QhxoVCMACx1HYIbIWvqEmgkb1B5
yMEGpOlqVBSzcjxZm66lLjZK7Pv8CFt/t401ARycRLtso7/TdCV3HUOGrPJaEDModb+UAYCp
rjmgHG6ADqARgNHjw2UfMVCaB2aGUlnbClTjnRPZeLKGcKPOMLtLgxFUFLOq0RoDSZJ/wG5p
AWCqk5sPrrHP2OWTd2jOJxWKYkZpupIBTUplIMqqjpAgnloTvhXtp18/3gAAkiQ34y5yT2g3
wBXsUCqjpkzsw9HOAU2nPGauFfGR2vWGKOyrtBkXS77RgKHh5H+nzwY8N6ptVPq3SSZ9+jwf
srMxE4jMj1utNlku6jzQBdyzTqOo8+/0QV+2R+xcSHQSolntviyzWGAHYtySyC+v5whZgThb
msiHjAfIb66vqudQFxr+LR3rxdI+zVwvQSeMYxW8+l7xrlZgc32125k+fWXRDsLFxy+gi/t2
QQu8mdbek217zPRB9FUk5c+SUhknSS4veiVsw9pixKfHp68V8lolNgZiSXQ13j2ZCGxpgMx0
TcpjJw25IvFhLwNvaybzLcQXqWUCLeTS1TRXCDdqGQ9Fh5u544OiLR3ayaV2FyTR13oeE2Su
3ZswNGO8K3AiMQAgMl8MbQXOGCz+ArhmepcGiq6VAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTU but with PV and CV of &lt;b&gt;UDINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTU_UDINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#FFFFFFFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter</title>
						<descr>&lt;HTML&gt;The CTU block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#7FFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctuscheme.png" width="336" height="200">
								<![CDATA[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
Si8AAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTU_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Up counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTU but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTU_DINT block &lt;b&gt;counts up&lt;/b&gt; for each FALSE-to-TRUE transition of the input CU and sets the output Q when the accumulated value (CV) reaches the preset value (PV) value.&lt;br/&gt;
&lt;img src= ctuscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of R reset CV to 0&lt;/li&gt;
&lt;li&gt;rising edge of CU increments CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches PV the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is equal to PV its value remains until a rising edge of R&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CU" type="BOOL">
									<descr>Count-up on input rising edge</descr>
								</var>
								<var name="R" type="BOOL">
									<descr>Reset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-up output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CUEDGE" type="BOOL"/>
								<var name="MEMCU" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		R
	JMPCN	l0
	
	LD		0
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD		CU
	ANDN 	MEMCU
	ST 		CUEDGE
	
	LD 		CU
	ST 		MEMCU
	
	LD 		CUEDGE
	AND(	CV
	LT		16#7FFFFFFF
	)
	JMPCN	l1
	
	LD		CV
	ADD		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	GE		PV
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctuscheme.png" width="336" height="200">
								<![CDATA[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
Si8AAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ctu48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACtUlEQVRoge2YoXLcMBCGf3UK
G3AF7YzFyoM6kye44KDiO3RHwu8VwluSQz5c0qKA5gnaKWppw2wQUIN7gC2w1ifLki3ZzkU3
9TfjsSWt17vWrtYyMDHxfyMc/WQbI6KntSYAIUrzXljGyDhHjemAaXT0Trw02hw21hCKEVsI
nRSTA89N5zKaJOktgJU2ts2yxdq8QcrdBsCNRVcB4BLAT9VeAbh1yeX5kuVARBBCIElSAiDy
fNm4yUxiG/fa9copVRq4tfSv1LEOlAMANh4AKEnShhNBhUwp2+b5cq0XtfOLR/zN7hyqQMrg
xqzZ5PJ8WclpxtdszrJFayHrxKzIv76/6aOmFYfxAEBS7qqGTwj5MgOwUWcfbjRZPhdAq/FM
FSG9HZByN8uyRXF+8chdG3WYFGjG/AxlvJvOcgJ7F9Ehy+gfKXf6qsPGCON4rRnGFKpflwGA
eagRvWZALW0zADOOfyn7aKoo+MLML05WF4NzQAuhUegy2KTTgSRJP6A+tXNV3FzYxj7jUE/e
o72eBOEzA3Pjge+09sPvH28BAEmS8rjNuAd0O2BL9t4cbR8wdJcXlAMxbSmZ4CQOTbKn5uQ/
pycHnpsqB/QE5TgfM2mpz8pGJCAEf7jVzpyJQfuBIdDIOlnR4E+JXm92RA4hpHUKBFt1eLNE
2gRbCAlLIdzy6hk+MxDmS1edCK0jFvn99VV17RtCcVUvG6QmS8U0Uf1ATAdefavsrmZgf311
WJk+fSWt7cXZxy8QZ/fdgga0n9fu09vmGPdB69OMrKUxASQsA8Y91nETlx6Xvk7KdcI/iYcY
MdR5+8O0xNYd0Ctdm/LQh/r8InHRqMDlmQS/C58QMnS1PcvHNtEx7suAP3PHRwR7GtvWq1pB
Tcaaz2Mi+Ld7G7E545yBE8kBAIH1IrYZmIiWf2FOAyn58r38AAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD_UDINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter (UDINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTD but with PV and CV of &lt;b&gt;UDINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTD_UDINT block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="UDINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="UDINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 	CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		0
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD_DINT" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter (DINT data type)</title>
						<descr>&lt;HTML&gt;(Same as CTD but with PV and CV of &lt;b&gt;DINT&lt;/b&gt; data type)&lt;br/&gt;&lt;br/&gt;
The CTD_DINT block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="DINT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="DINT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 	CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		-2147483648
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAAVAAAADICAYAAAC+qrlDAAAKr0lEQVR4nO3dzXHiwBqF4aNb
NwFPCNwQTAajCYEJwd4zC7yj2NmLYW+HYEKwJgMIwYRgh6C7aAkEBkN/+qFbvE+VyiNAQnjk
Q/9JLQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF95sQBAUP5z6QMAgFgllz6AE/ZLnqEfL4Ar
QgkUAIxCLtEda/cM+ZgBXBFKoABgFGpp7lSve6jHDeCKUAIFgB5jHCiAIFECBQAjAhQAjAhQ
ADAiQAHAiAAFACMCFACMCFAAMCJAAcCIAAUAIwIUAIwaDdBcmuTSRy7lxfKWS6Mm3wPokzzP
ledcqXz1irB8rwZmLr0WQXpXb9dcCw+bypd5qIsL0Uv/onA5Rckzz6X0wHOvRan0xr57zi/Y
BBCQBCi+V5Q83488l9YshRKgMNsJKt+lqF6btj29EKA9ULsNtChZDiRlR16yKn7e1n0vAAhJ
E51Ig+Ln54nXWavwQCOSmZvK4NxlZ9uGF/QDw5gAwKiJAF0XP0+VME+VUAEgKrUDNHHBuNaB
HvhC2fa5OvI8AFwvhjEhVNXebu9tK73wTaMXHjvywwPpH2sOYSp2w/kFm0YCtIUrhQjQfmi0
QzCXJnJLtbS5kvQ72baVGnZLgqK2xPdkb/USyyTp+ymdJHJfFD7rsWn1mIvS6HOxep9IC9tu
CFDUdvYfaCfXphOgvQjQ/7a580Ra5K4E+qz6vfAx/n4Ru/b+rL123NZRdPFV4bkelRgOviyB
xnCsCJh3Fb6Vo7CJMUCTvf2fs47m0YkEIEhciQQARgQoABgRoABgRIACgBEBCgBGBCgAGBGg
AGBEgAKAEQEKAEYEKAAYEaAAYESAAoBRDDdAcTcSGR+bdh5A6PK/PxNJSv7829z/M//7c2dd
81QaZ7vrgfO7H+g4+9DhuY0ySS+apwuNs1tJS0kLzdPfR/bzXuznf5qnzNYJIEqWGyqvNE+H
m7VxdiPpVdKrxtkvzdNM4yyTlGqc3XwJyHGWShrIBa5PeMZQWgZwQPLn3+af+0+dWA9a/TbQ
efqpefpL7o7zk+LRhVwJc3Rgi7TyGgBXqhKq0WpySo+1yjng5+mLxtmjXIC+7L1uJGmteerX
qBlBewiAmiL7O2+yF34gN/9RaSFXjR9sHqlW3wEgcs0E6Dh7k6uyV6vl5b+r1fjR3nMAEC2/
BttzeuF3X/8u6XPT6eS2XxVtpufaDmsAgIDU74X/3kLSpKjG3+prKRUAotX2lUjVavxIrjRK
+yeAXmg3QOfpSq5jaSQ3fInSJ4De6OJa+IWovgPooS4C9EVukL3/2E8ACFgMPdu5JC2Xy/3H
k+Fw25e1XC7z6pPD4XDns+0/z/Zhbx/68bF9s9vHitvZAUCP5dqOBQWAYFACBQAjAhQAjAhQ
ADAiQAHAiAAFACMCFACMCFAAMCJAAcCIAAUAIwIUAIwIUAAwanJa4/4YZxe59j7/+3Nzh5ok
6cXNanDMhc6xfZxz9VACBQCj80ug4829kO+0naJDktZyN01+KtYnkh4lPVQek+ZpuZ+BpHf5
TU53KV19JeeSlPz519HbISCXKvZxzjXAtwQ6kfQsN89RUixPlcdVrH9qdz74qvJxJpcDEDWf
NtBbuZLlk1zpsvQiaSAXogu5OeIXciXVgVwJtSqu2TnLknObxpWZTrp4P4TlEv/nnHON8AnQ
u+LnoeDL5AL0VrsBOlK1Gj/ObovXxBGe3ct3TuwYzVN6IuLS1jmXaJ5WO8vOW4+MTxV+oHJy
uK8ybavz5fpa29Atlb8hZucEED2fEuiN575f5Kr8t3JtppILVGbn/KoPpbYghuXgTHVqCn4l
1v33ObUelTaHMZW/ZddpNM5SuVIs1XcAveBTAv303PeqWEZynU5U34+JsO3ni9jbbnE+n/N1
/7Wn1iPjE6BruRA81LOeSnrT/thPF5aPxfMjSZnm6aE2VPRFIFfYfEHnFlrgU4Uvq977HUPS
tnS5Xwx5kSu5TuSCl9IngN7wCdCVtoPmJ5XH74rlRdvOotKnXKimqjn2M8/znWW5XH77fJ3t
L/3+MW6v7YUVoS1B/H7Y/vvtY+XbifQg6V6uOp4Xy0QuWO+PbLPY+wkAvRBDu5D7urpMJ8Vm
cO9yudz/2kyGw+2l/PvPD4fDnd8t2/tt39j+Q22T3Uo0T6P7/2l6+1hxNyYAMIrhW6AsgV7m
WCMfZnH1YhhexTkWLUqgANBjZWcVAASFEigAGBGgAGBEgAKAEQEKAEYEKAAYEaAAYESAAoAR
AQoARgQoABgRoABgRIACgJHPnEjOTK9yN1T+oemRieZmmsjNhVT1KelFUz14v2dXZo1cc59o
2sBe0G+ca73Qdgn0t6ZKNFUid8f6VDMtNfOeYx4AgtNdFX6qhaRfkm4kPXf2vjbmuXewtT8P
zjUtHqI+1xr8PUSp2zZQV+VfSBpppkGn7w0ADfNvA62vnLkz1Xaq5DD5tC/NWjsKXAPOtShd
sheedlAAUWMYEwAYXTJADw+BAoBIXKIN9Lb4GfZ0iYyvqy1JguowDlfE59q1/x93WwJ14z/v
JC001brT9waAhnVXAp3pTtJE0lpuUL3v9rEMKsvpJUVHYjjX3NVS27/f89YjUSdAPw785600
1bCy/lp5zVruUs6nGu8JAMHwD9Cpfp/xmiep8aAMvbEl9OPDJTVZqpoGcK75l3z3j/nUehQY
xgQAPZYXCwAEhRIoABgRoABgRIACgBEBCgBGBCgAGBGgAGBEgAKAEQEKAEYEKAAYEaAAYESA
AoARAQoARgQoABgRoABgRIACgJFtSg83OdykWEoLSQ87k8XN9CpptLf1Sm5SOab2KDUz39Nl
55IJ9TN0dVyhfv5jYjveQPmXQF14LiWlkobF9AI/pOLxmQYHtvqhqZLitQtJkyJcASBalir8
s1xY/tJUK0nSVJ/SZq6k52+3diXP35JGmu2UYOHmhfFdQhPqZ+jquEL9/MfEdrxB8QtQV7oc
yVXBP3eec+srSbcn9zNVVrz2zuv9ASAgvm2gZfV8ffDZqX557CuTq8oPdtpN4TeDY6jzgof6
Gbo6rlA//zGxHW8gfKvwNy0cQxv7BIDWMYwJAIx8A/Tz9Eu8tbFPAGidb4CWbZWHhipJM71p
po8z95VKWtP+uacP4+pC/QxdHVeon/+Y2I43IH4B6sJuITcEabft0q3fynUOfW+mUfHaF6/3
B4CAWK5EepD0JulVM91rqnURnq+V549zYz8f5Xs1UjNXTvRZ3oPe0VA/Q1fHFernP8bveKfF
GNLt37K7kunUesD8O5FcKXQoV51/Lz7sh1xb5vBIlfxDM+XFa1NJ95puBt4DQJRiuKrAfRvN
ojhWf218w16qFNPkZ2n6MwRekjnonN9B7J9resZ6wBjGBAA9lku0fwIIDyVQADAiQAHAiAAF
ACMCFACMCFAAMCJAAcCIAAUAIwIUAIwIUAB919rFOLZ54QEgPrkk5fkmS5MkqXeLDQIUwFWp
G5o7+/J4LdejA+gjc6LSBgoARjHcY3N7d2oA8Hes9lw7U2gDBXBtGiuMEaAArkXjtVgCFEDf
tdb8RycSABgRoABgRIACgBEBCgBGBCgAGBGgAGBEgAKAEQEKAEYEKAAYEaAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAABAT/wfCXs1gPu5dKwAAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="CTD" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Down counter</title>
						<descr>&lt;HTML&gt;The CTD block &lt;b&gt;counts down&lt;/b&gt; for each FALSE-to-TRUE transition of the input CD and sets the output Q when the accumulated value (CV) reaches the 0 value.&lt;br/&gt;
&lt;img src= ctdscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;rising edge of LD set CV to the value of PV&lt;/li&gt;
&lt;li&gt;rising edge of CD decrements CV by 1&lt;/li&gt;
&lt;li&gt;when CV reaches 0 the output Q is set&lt;/li&gt;
&lt;li&gt;once CV is 0 its value remains 0 until a rising edge of LD&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="CD" type="BOOL">
									<descr>Count-down on input rising edge</descr>
								</var>
								<var name="LD" type="BOOL">
									<descr>Preset counter input</descr>
								</var>
								<var name="PV" type="INT">
									<descr>Preset value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Count-down output</descr>
								</var>
								<var name="CV" type="INT">
									<descr>Counter current value</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="CDEDGE" type="BOOL"/>
								<var name="MEMCD" type="BOOL"/>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check for reset input *)
	LD		LD
	JMPCN	l0
	
	LD		PV
	ST		CV
	JMP		l1

	(*	Check for increment enable *)
l0:
	LD 		CD
	ANDN 	MEMCD
	ST 		CDEDGE
	
	LD 		CD
	ST 		MEMCD
	
	LD 		CDEDGE
	AND(	CV
	GT		-32768
	)
	JMPCN	l1
	
	LD		CV
	SUB		1
	ST		CV
	
l1:

	(*	Counter output	*)
	LD		CV
	LE		0
	ST		Q
	

]]>
						</sourceCode>
						<images>
							<image name="ctdscheme.png" width="336" height="200">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="ctd48.png" width="48" height="48">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADBElEQVRoge1YvW7bMBD+WHRs
AthDA1Bbpg7NVDRP4Ayd2jeQJmdpZ79C9naJJ3nu0k4Zmido4KlZm40EmiEGnO7XQaJ8okiL
st2Yaf0BhCTyJN7H++GJwA47/N8Qnn5yjRHR39WmA4Qo1HviGCPrGjVsArbS0ZN4aj0bt3G6
UIxwudCjwo7AttGaRqXMhwDOHTIzACdKpVMASJLJCMCZTw7AtHweAPhm66F11lSCCEIIEBGS
ZAKXjB3ELkwBjB39w7KddpS7YXIDAIfLJjd7j1IpkgQNEp02Mg4pcwIwVio9PTq+xZ268OpQ
KnzqGDtHQc5rARtJMoFS6dKNzIuXr3+BiBof/vH9eZfPBMG36xeWmFTPIS4EAJAyP7tTF70k
AQD0yu4ZE+kBGLGxldFWshQWyAAEEpAy76Ewta3c9Oj41tyPymZjBndsNObQOpsBqK1wG4Jc
SOtspnXW7ydvhFKpANAvhwZMzJATVutjkYGW4aeUucliFNDCCRhcXx1ACAGzUkDh/xuKgR6A
Xuk+SxOI1lk1HhwDPjAX2ghY3hdwFJNceSCAgJT5KxT+HwrXpvcZwGV5f4hFrBgXrL1jUqSU
eY2EUqkwwWsQYgEfgRmA8fXVgZnM9LtkbywCtsyQyVXQOqtIFCufBqhb4MH+A9b9y+sUAzH9
Uhp0DmLjn7Hg3ymnqd5JFPEvJVeMW8A+jWjsejGCExCOa5RW4CsaGsRtVtga0RACbcpt1cXW
roVKhJLYjKWIgDKdewk4Kym/aNC0gXKtuP/wrrrflAVC0ZWEWUfX1foyUZEzi3KBqj7TH1HD
s8WpTMVk/v5t1bn/6SsBELyvDXsfv0DsXbYLWqD7Qe09/myP1fp+n9QJsHIYWmcEED/o5bDN
F5pifXLeGKJ5fSh5UejIj1VCY2BVJdYl756MFZTsg8SCpJGDtkKA5kKIfa4Xv4oGAT4PdyE2
97L5XBxc8qJlPBQrnMxtD6Iz09gqUG9VvCl7PiSEOXZfhtjIeC3wSGIAQMdCMDYL7BAt/gCj
bz7ec2bPQgAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="R_TRIG" version="1.0.1" creationDate="0" lastModifiedDate="0">
						<title>Rising edge detector</title>
						<descr>&lt;HTML&gt;The output Q will remain FALSE as long as the input variable CLK is FALSE.&lt;br&gt;
As soon as CLK returns TRUE, Q will first return TRUE.&lt;br&gt;&lt;br&gt;
This means each time the function is called up, Q will return FALSE until CLK has falling edge followed by an rising edge.&lt;br&gt;&lt;br&gt;
&lt;img src= r_trig.png&gt;</descr>
						<vars>
							<inputVars>
								<var name="clk" type="BOOL">
									<descr>Input for edge detection</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q" type="BOOL">
									<descr>Raising edge output</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="m" type="BOOL">
									<initValue>FALSE</initValue>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LD		clk
	ANDN	m
	ST		q

	LD		clk
	ST		m
]]>
						</sourceCode>
						<images>
							<image name="r_trig.png" width="218" height="117">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAANoAAAB1CAYAAAAoV//gAAAAAXNSR0IArs4c6QAAAARnQU1B
AACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5l
dCA0LjAuMjHxIGmVAAAD2ElEQVR4Xu3awXHTTBiA4bRAAVxogSNXWmDogAZoghtnWmBohRL4
S6CAn4OZj2iJIinSOrY/fxbPM7NJbCnJMrvvSHa4OwAXJzRIIDRIIDRIIDRIIDRIIDRIIDRI
IDRIIDRIIDRIIDRIIDRIUD60u7u7PwNumdAgQekd3CITG7dOaJCg7O6dRtYG3CKhQYLyO1dg
7IHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQThDTqjaoqfzSCO24QU3ll+YWQqug0lyY
K780QutTaS7MlV8aofWpNBfmyi+N0PpUmgtz5ZdGaH0qzYW58ksjtD6V5sLcUUvz/fvDgsZ4
82Y4MIjnPn8eHky8fHk4fPw4PBh8+3b/Pe/fD08sEFqfSnNhrntpWhTjkCK0cWzT42PT0Fq0
0/imhNan0lyY616apStSiyUiDPF1b2hx7lZkQWh9Ks2Fua6lmQb1lDinJ7T4eu12cUxofSrN
hbmupWm3jRHcmjhnK7Tp7eYWofWpNBfmupbmXKG1zTC9jVwjtD6V5sJc19Kc69axbYTenxeE
1qfSXJjrXpq43Vt6XRWL2+Iafz01vYrFeXH+9lVSaD0qzYW57qVpt4/jkCK+CKiZHh9bul2c
fv8SofWpNBfmjlqaFlsb0zc1xsfaaFfBpdBCnLMWWwut/byKo4KleRmPxzVd+ddvE1qfpXkZ
j8c1XfnXb2uhwS0TGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQ
GiQQGiQQ2iliXkbtUUSdmTxBaMZJo4g6M3nCTYQGG4R2CqHRSWinEBqd8nbJz5+Hw4cPD5sz
Rjz+8WM4YZnQ2IOcXRIxvXp1OLx9+xBWfI7HL16sxiY09iBnl7x7dx9aXNWm4vnXr4cHj/wX
H4TGHlx+l8TVKjZj3CYu+fTp/vjDVe3/4fOv+CA09uDyu+Tr1/vN+OXL8MTExnGhsQeX3yXt
ihVBLWmhxXkLhMYeXH6XCA3cOp4k5lV1bpRy+V1y/JshjwiNPcjZJc97e/8PobEHObskrlbT
P1hHdP5gzT8ib5cs/ResGBHbCqGxB9fdJe31Wdw6br1Gqzxgw/V3SbzrOL6lnBAae1B+l/wN
DW6Y0CCB0CCB0CCB0CCB0CCB0CCB0CCB0CCB0GDFufaf0GBF23+n7sOL7eDpBA1jT+NYQjOM
Z4xjXSy0c3nuPwzOYRzXKftQaLDiXPtPaJBAaJBAaJBAaJBAaJBAaJBAaJDADoYEQoMEQoME
QoMEQoMEQoMEQoMEQoMEQoMEQoMEQoOLOxx+A+X2Hit+emmnAAAAAElFTkSuQmCC]]>
							</image>
							<image icon="true" name="rtrig34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAApklEQVRYhe2VUQrEIAxEZ0pP
Vw/V9VA9X/qzLYvUNrGWTSEPBJEYhzFGIAiC4B4UEUUUa0GEZr+CoUuWDliF8Dv+LuQx7EI6
1UTJix15CDdCxp8eQQBH8zMEND+iw3PcOFJtmVVE0ODCJY4cUfQFptyjeVCWGUwZssxbXmxr
bhwZjfEtxaFy87WO7PerhSmr4tw4EkJKiOlj+WvYUCNlHt9/TRBcsQJT/izAApTRbQAAAABJ
RU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="F_TRIG" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Falling edge detector</title>
						<descr>&lt;HTML&gt;The output Q remain FALSE as long as the input variable CLK returns TRUE.&lt;br&gt;
As soon as CLK returns FALSE, Q will first return TRUE.&lt;br&gt;&lt;br&gt;
This means each time the function is called up, Q will return FALSE until CLK has a rising followed by a falling edge.&lt;br&gt;&lt;br&gt;
&lt;img src= f_trig.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="clk" type="BOOL">
									<descr>Input for edge detection</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q" type="BOOL">
									<descr>Falling edge output</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="m" type="BOOL">
									<initValue>FALSE</initValue>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LDN		clk
	AND		m
	ST		q

	LD		clk
	ST		m
]]>
						</sourceCode>
						<images>
							<image name="f_trig.png" width="218" height="117">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAANoAAAB1CAYAAAAoV//gAAAAAXNSR0IArs4c6QAAAARnQU1B
AACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5l
dCA0LjAuMjHxIGmVAAAEDUlEQVR4Xu3awXHUShCAYadAAFxIgSNXUqDIgARIghtnUqBIhRAg
BAJ477BUYw2WJbEa2atW79b3VY3t9S72oNZfkg13J2B3QoMEQoMEQoMEQoMEQoMEQoMEQoME
QoMEQoMEQoMEQoMEQoME5UO7u7v7s+CaCQ0SlD6DW2Ri49oJDRKUPXunkbUF10hokKD8mSsw
boHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQIIHQniG2VW1RU/nRCG3boqbyo7mG0CqotBfm
yo9GaH0q7YW58qMRWp9Ke2Gu/GiE1qfSXpgrPxqh9am0F+bKj0ZofSrthblNo/n+/WGgsd68
GZ4YxOc+fx4eTLx8eTp9/Dg8GHz7dv9n3r8fPrFAaH0q7YW57tG0KMYhRWjj2KbPj01Da9FO
45sSWp9Ke2GuezRLV6QWS0QY4uPe0OK1a5EFofWptBfmukYzDepf4jU9ocXH524Xx4TWp9Je
mOsaTbttjODOideshTa93VwjtD6V9sJc12guFVo7Gaa3kecIrU+lvTDXNZpL3Tq2E6H36wWh
9am0F+a6RxO3e0s/V8VwW1zjj6emV7F4Xbx+/SoptB6V9sJc92ja7eM4pIgvAmqmz48t3S5O
//wSofWptBfmNo2mxdbW9Jca4+faalfBpdBCvOZcbC209vUqrgqW9mU9Xkc6+NuvE1qfpX1Z
j9eRDv7261pocM2EBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmEBgmE
BgmEBgmEdkviOFn/Xgc69rt3ENoG45PKmq8DHfvdOwhtgwInFMuEdkuEVpbQbonQysqbyq9f
p9OHDw8nQ6x4/OPH8IJlQtugHVfKyZlKxPTq1en09u1DWPE+Hr94cTY2oW0gtLJypvLu3X1o
cVWbis+/fj08eORnvBHaBkIra/+pxNUqhh+3iUs+fbp//uGq9t/w/v94I7QN4jg5ViXtP5Wv
X++H/+XL8ImJleeFtkEcJ8eqpP2n0q5YEdSSFlq8boHQNojj5FiVtP9UhJYnjpNjVdL+U1m5
NVx7XmgbxHFyrErafyrbfxnyiNA2iOPkWJWUM5Wn/Xr/D6FtILSycqYSV6vpP1hHdP7B+rKE
VlbeVJb+C1asiO0MoW3QjinlHDuV9vNZ3Dqu/Yxm9S/KOX4q8VvH8S3lhNCesCin/FT+hgZX
TGiQQGiQQGiQQGiQQGiQQGiQQGiQQGiQQGhwxqXOP6HBGe38e+55uNsZPN2gZd3S2kpolvWE
tdVuoV3KU/9icAnjuJ5zHgoNzrjU+Sc0SCA0SCA0SCA0SCA0SCA0SCA0SOAMhgRCgwRCgwRC
gwRCgwRCgwRCgwRCgwRCgwRCgwRCg92dTr8BUO8SN3cafNMAAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="ftrig34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAqElEQVRYhe2VYQqAIAyF34tO
V4eqDtX51o9aRJQ5S1iwDwQR3R5vToEgCIJ3UEQqROVdUELzkcAhd/O9ijJsQsh1GE5s42Mh
FbELsd6pzP0/dqQSboRQAC0icT0vR2TtmNS7suVx5YgL3DjS5vQ5+6nUOMo8gP0EmQeNBV0D
sM8dOWIj96MxO/hbR/Zap9D6W3DjSAg5Q3Sj5a9h5h1Jdc1lHjeOBMETC4IUMr87wVtwAAAA
AElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="SR" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Bistable, set dominant</title>
						<descr>&lt;HTML&gt;Bistable, set dominant&lt;/br&gt;&lt;/br&gt;
&lt;img src= srscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="s1" type="BOOL">
									<descr>Logic input</descr>
								</var>
								<var name="r" type="BOOL">
									<descr>Reset input</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q1" type="BOOL">
									<descr>Bistable output</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[	
	LDN		r
	AND		q1
	OR		s1
	ST		q1
]]>
						</sourceCode>
						<images>
							<image name="srscheme.png" width="290" height="146">
								<![CDATA[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]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="RS" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Bistable, reset dominant</title>
						<descr>&lt;HTML&gt;Bistable, reset dominant&lt;/br&gt;&lt;/br&gt;
&lt;img src= rsscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="s" type="BOOL">
									<descr>Logic input</descr>
								</var>
								<var name="r1" type="BOOL">
									<descr>Reset input</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="q1" type="BOOL">
									<descr>Bistable output</descr>
								</var>
							</outputVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	LD		s
	OR		q1
	ANDN	r1
	ST		q1
]]>
						</sourceCode>
						<images>
							<image name="rsscheme.png" width="290" height="146">
								<![CDATA[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]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TP" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Pulse generator</title>
						<descr>&lt;HTML&gt;Pulse generator&lt;/br&gt;&lt;/br&gt;
&lt;img src= ptscheme.png &gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Pulse output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Actual timer value</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		Q
	JMPCN	l10
	
	(*	Update actual time *)
	LD		sysTimer
	SUB		timStart
	ST		ET	
	
	(*	Update output *)
	LD		ET
	LT		PT
	ST		Q
	RET
	
l10:

	(*	Check for input status *)

	LD		IN
	JMPCN	l11
	
	LD		ET
	GE		PT
	RETC

	LD		sysTimer
	ST		timStart
	
	LD		TRUE
	ST		Q
	
l11:
	
	(*	No input and no counting active *)
	LD		0
	ST		ET
	

]]>
						</sourceCode>
						<images>
							<image name="ptscheme.png" width="265" height="146">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAAQkAAACSCAYAAABWvj9QAAAH+klEQVR4nO3d743TSBjH8d9z
ugaWEkC6BjYlcAWABNJeAVACK91rJCgBCgBpT9or4Cgh2wASlAAlzL1wzDpee+L/M5nn+5Gs
JWsS+9lknjwztscSAAAAAKzC+laEENbbqFn94rbmdgAMZ9adDn7beD+OhBB6dwxAHjZPEo0q
4ujfAPKUtJKoUU0A+do0SfRUDlQTQMayqCQA5Ov3jbdX9ytC6zGATG2aJOrDnc0xCA6BAnmj
uwEgiiQBIIokASCKJAEgiiQBIIokASCKJAGUYqXLG8YlCbMLmX2QWWgsH2T2eJW929pxXOkX
j3EjO8OTRJUI9pIeS3qiEEzSk8PjfTGJApjKLM2ydlh9Kx6cCWl2I+lS0k4h/Gyt+ybpp0LY
DdporpPONPYr6X7Up61XiXh9ecS9bcxrSHU1c92GzO7/PcG8SWeqKuGFpC8PEkTlo6RLqgm4
FkKaZWVDr924PPy861n//fDzqaqEcf5SVjgp59dIFTdzimRr6JhEXSF0VRFNFzP2BUCGOAQK
IGpokqi7E6cqhVOVBoAzMzRJ1GMRlz3r6+7Il3m7gyP005EBDoE2NQ8Fph243HY/coi73odz
PgSaWtJDoJXrw8+bX4c6qzMw/1PVDXk5ee8AZGt4kgjhu6SdqvGJb4fM/0PVYc+7w3oAhRl3
dCOEnwrhtUKwX0tVYTyVGadmAwWafwg0hPequhoc2QAKxA2Dm3IYwEuxHznEzcBlclneMBhA
/kgSQEna1cCpxwNsfQevI0EKnDAU5e/vw8Qzp9VdsnY3sX5sdvx45hQASZMEgI3M+LJJP3C5
2lZGymkAFd28VVVLqaqK48cd+gYuqSRwPpof7rUTRmlfGjPiSZ8kSnszsA0+N5vh6AaAKJIE
gCiSBIAokgSAKJIEgCiSBIAokgSAKJIEgCiSBIAokgSAqN7Tsu3z8zeS3nWs+qnqfp/3s2dX
NxOOuQtXt4Om2weQlyHXbryU9E/j8StVyeNS0p96OJX+XtLjcHX7aJE9BJDUlAu8Pqq6z8Y7
VdPpT75r136/D3d3Rzcqt91ud7S+uXK32x1d+tdeX8zzPz0LkrT/4++jlWez/xPW776+Va4a
70PWf98l3h91mDomUd9jo++2f5jqkCA8yTlBYPql4vX9Ne6i/+uE3W73YLbs1mOLrHuw/tyf
b5+fH38zfH1r4ep2s+2v/fyu9c2Yw9WtSZJ9ft5+WipBOn4fcv77LvH+dJlSSbyQ9EZVguAG
wQtpJwgPWjEz7VSmhlQSNx2/e6/7oxuYqaOxFJ8wYgmiWT2llFFFk9SQSuKlqjexuZAgFuLx
2zQWMw0zP5xMlRAJ4j7mXKoHPESSSMRjY/EYcwlIEgl4bCweYy4FSWJjHhuLx5hL0nt0I1zd
vld1FGMsrtHo0dVYSm8oHmMuDZXERhik9BFziUgSG/BYbnuMuVQkiZXNaSzn2qA8xlwyksSK
PH6beoy5dCSJlXhsLB5j9iDpDYM7rlorQteVjaXzGHNq9vn5UQIe+3goKomFeRzR9xizJ0kr
CTOTPj0b9ZycS1ePjcVjzEtZ6mK25ut0vebc7VBJLMRjY/EYs0dJKwkp78pgKI8Ddh5jXtpS
f6tTrzN3O1QSM3lsLB5j9owkMYPHxuIxZu9IEhN5bCweY0YGYxLnqN1YPDQSjzGjQiUxkscR
fY8x496Ue4HWXqqaXt/NfUA9NhaPMePYlHuBNrV/v1d1455HpZWjHvvjHmPGQ3Q3BvDYWDzG
jG4kiRM8NhaPMaMfSSLCY2PxGDPihiSJG1W3nWsusQHNInhsLB5jxmlzBy6L5LGxeIwZw6Q9
merTs5DzvR9TT56S4k7jqWPOVJaf0/q9qj8n7cc6nPTWXj8WYxI9PDYWjzHjtLSVxF//2thJ
Z2Lq0njprN98vY3KbxprHo7eh1y7Xu3kfurxWFy70aNvPsAcy86l1LHl2hiQRn+G+fTs1GnZ
13p4G8BBZ1ya2X2fqdDJcIFzY9adDnqTxJqNlyQB5KcvSTBwCSCKJAEgiiQBIIokASCKJAEg
iiQBIIokASCKMy5bzDTpxI0QzvdU6qkxe3LO7+9cVBIAonqThJkuzBTMdNP43c3hd696nvPD
TPs1dnRrIciGLKn3c0lDYx6zSOexnHp/ze6XNW2xjbGmVhLvzHSx6J4AyNLUJHEh6cOSO4Iy
hTBtmfPcqdsbGsuattjGWFOTxEdJL/q6HQDKMTVJXEu6k/SGbgdQtjlHN65VzR1BtwOLy63k
9mxykghBX0S3AyjerPMkQtBrSd9FtwMo1hInU71W1e0o/oY9gEezT8sOQV/M9FGiywGUaJHT
shvdDgCFWfLajesFXwtAJpgtu6W+InLodRlj/3+OSohhLY0rZC2zj+rimC0bwCQkCQBRiSed
CSG3y2KnYuKW4mX5Wa27iM0uY7uLNLfLRCUBICpxJWGmTL+AzYZdP9A32Jfjtw4m6Xwnh3w2
1vgMdG33sJ3m1tpbnrUnVBIAojgEegaGVjXAHBwCPWMkCKREksgY4xrIAUkiY1QQyAFJAkAU
SQJAFEkCQBRJAkAUSQJAFEkCQFTiazcAbGnK2c5UEoBPwcxC36nYTaOu3WhkIQAFCSEY124A
mGTsmMRSVxP86hct9HoAhmn3Bg4zW/U3RQYuAZ8Gf0GPShJLzf3QzFrMJwFsqjc5MCYBYBKS
BIAokgSAKJIEgCiSBIAokgQAAAAAAACA7PwPE9lwMokr1EsAAAAASUVORK5CYII=]]>
							</image>
							<image icon="true" name="tp34.png" width="34" height="34">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAxklEQVRYhe2Waw6EIAyEp8bT
6aFwD8X5un/MRqBkYB+mm/RLjLFaKENbBIIgCD5DVNWwimE0UJWv+AFYhhxvYCXvm8hP2Mqn
/f5GEcDOIT7ypJ8bRSKQmvVS+4I6q619vtLrG+N+rzndKDLYCn+PG0UWqOKOS7ajuNc2s6HJ
/mh2THOiXczyAyCaE1WEd1Z7wuJZc2pss7AcMVUYWOHAGVDyliJAGwxThQXvqGqc4CYQwXZ0
zxrNSTolycflf3HFd24UCQLGE7KZdlKKljJmAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TON" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>On-delay timer</title>
						<descr>&lt;HTML&gt;The TON block produces a delayed output Q of the input IN. The delay time is expressed in milliseconds on the PT input.&lt;/br&gt;&lt;/br&gt;
&lt;img src= tonscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;if IN is FALSE Q is false&lt;/li&gt;
&lt;li&gt;Q becomes TRUE as IN remains TRUE for PT milliseconds&lt;/li&gt;
&lt;li&gt;Q remains TRUE until IN remains TRUE&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value (ms)</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Timer output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Timer current value (ms)</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		IN
	JMPCN	lReset

	(*	Check if Q is TRUE *)
	LD		Q
	RETC
	
	(*	Check if already in counting *)
	LD		timStart
	EQ		0
	JMPCN	lUpdate

	(*	Start of counting *)
	LD		sysTimer
	ST		timStart
	
lUpdate:

	(*	Update timer and check if time elapsed *)
	LD		sysTimer
	SUB		timStart
	ST		ET
	GE		PT
	ST		Q
	RETCN

	(*	Limit actual time value *)
	LD		PT
	ST		ET
	RET

lReset:

	(*	Reset status *)
	LD		0
	ST		ET
	ST		timStart
	LD		FALSE
	ST		Q

]]>
						</sourceCode>
						<images>
							<image name="tonscheme.png" width="230" height="146">
								<![CDATA[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
AAAAAElFTkSuQmCC]]>
							</image>
							<image icon="true" name="ton1.png" width="48" height="58">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAA6CAYAAAD2mdrhAAAD4klEQVRoge3YT4hVdRQH8M91
akhpIVOjmxYR1K4CIUTQyQYai3YWFVFtRPtjjNbCTUQgropqksqRqU1CloS0CjSw0EBECsqN
IESLNs0kTYvSjPG1+J3nez7nvfe7902TyvvC45537znfc869vz/nd+ijjz766KOPPvqojKLt
k2dvXwj+WgWbosmuIX/887yxLqkU1lWEGxbJT/sv3V2/o+01/wX6Cfzf6DQHrlwJLpevClzz
X6DtDK/V4kUXBfPJpbxUtLuMYv5Q2ydQ1kOPAXZDuwSu7yF02/DmxYzlCvwyM3VJbvcFFmon
vhEb8CDuwx1YGc9+xU84ia9wCP8skN+eE1iO7XgRw210VsZvDcbxG97HBGZ79N/THHgSp/G6
FPypkEcVxReXtJI8Gs9O4daQTwdHT6iSwAA+wH7pzR7DCO7BTnyNc0365+LeztAZwdGw3R9c
A9XCL5/AAA7gBZzH87g/kmigVntKWiCKkJtxDOvD9nxwHVAxibIJTGCjNHZHsVe10qIWtqP4
PTjfrcBTKoEn8JI0JB7C8SoOW3AcD+MvbA0fpZCbwHLsDvkVnCjrqAmbpLdfX9hP4OWQd4ev
bOQmsB0rpPG7t4yDFmzCFLZgsun+lDSxV4SvbOQkMCit8/Cq6uV0Pfh6SX6y6VktuIWvwVzS
nATGpHX+R62rTT5ag9+CD1t0vsUP4Wsslzg3ATiYS9qCnODrqPvYkEueU0qsiuvRTM5BvImn
cROWxf0aNuOjDrZ1H6s66FyGnATuAkUxjkcUS3a4OHexg/4bUs3Tis7BF8Un+CPOFXdmxJXM
2j1oKqdbJ223Hs9ZDLXc+xM3d7G7wk9OOb1YB5q//yvinARmkKrKongrQ3/fPPfaTdoGimK/
oqjvDTMZfpA3B85gWK22W6oqu2GHNMyeif/78FpXq1T0rZeKvDMZfpD3Bb6L67pMzgvYJs2D
oZAvZNqOxPX7TP2sBA7H9dFc0h6wscVnV+QmcFY6jKytEFQu1uJeafwfyjXKSeAC3gt5l/Kt
8hwUwU06oeUOuexldALT0unruVKh5WFTcM+Er2zkJjCrsbu+jdVlnHTBao3T2LiSnYoyG9ln
UjtkKb6U2iS9Yk1wLQvuT8sSlN2Jt0kV4xCOSMOpypwowvZIcB0M7tIom8AcHsceqdKcxDda
94hUmNVQC7kZ66QNcTI49gTnXMlYUK0zNyedmo5KY7fe5zmFz6VDz9Im/aV4IAJ/DHfH/Wnp
rZceNs3otbm7XDqQb8UtmT7PSuP9HV0m7GI0d2elNuEu6RQ1ptHcXRE60xrN3cPxy17n++ij
j+sc/wLOpNwgfFLcXQAAAABJRU5ErkJggg==]]>
							</image>
						</images>
					</functionBlock>
					<functionBlock name="TOF" version="1.0.0" creationDate="0" lastModifiedDate="0">
						<title>Off-delay timer</title>
						<descr>&lt;HTML&gt;The TOF block produces a delayed de-activation of the output Q with respect of the input IN. The delay time is expressed in milliseconds on the PT input.&lt;/br&gt;&lt;/br&gt;
&lt;img src= tofscheme.png&gt;
&lt;ul&gt;
&lt;li&gt;if IN is TRUE then Q is TRUE&lt;/li&gt;
&lt;li&gt;Q becomes FALSE after PT milliseconds from IN becomes FALSE&lt;/li&gt;
&lt;li&gt;Q remains FALSE until IN remains FALSE&lt;/li&gt;
&lt;/ul&gt;</descr>
						<vars>
							<inputVars>
								<var name="IN" type="BOOL">
									<descr>Timer input source</descr>
								</var>
								<var name="PT" type="UDINT">
									<descr>Preset time value (ms)</descr>
								</var>
							</inputVars>
							<outputVars>
								<var name="Q" type="BOOL">
									<descr>Timer output</descr>
								</var>
								<var name="ET" type="UDINT">
									<descr>Timer current value (ms)</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>1 ms system timer</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="timStart" type="UDINT">
									<descr>Time value at start of counting</descr>
								</var>
							</localVars>
						</vars>
						<iecDeclaration active="FALSE"/>
						<interfaces/>
						<methods/>
						<sourceCode type="IL">
							<![CDATA[
	(*	Check if in counting	*)

	LD		IN
	JMPC	lReset

	(*	Check if falling edge of IN	*)
	LD		Q
	RETCN

	(*	Check if already in counting *)
	LD		timStart
	EQ		0
	JMPCN	lUpdate
	
	(*	Start of counting *)
	LD		sysTimer
	ST		timStart

lUpdate:
	
	(*	Update timer and check if time elapsed *)
	LD		sysTimer
	SUB		timStart
	ST		ET
	GE		PT
	STN		Q
	RETCN
	
	(*	Limit actual time value *)
	LD		PT
	ST		ET
	RET

lReset:

	(*	Reset status *)
	LD		0
	ST		ET
	ST		timStart
	LD		TRUE
	ST		Q

]]>
						</sourceCode>
						<images>
							<image name="tofscheme.png" width="243" height="146">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="tof1.png" width="48" height="58">
								<![CDATA[iVBORw0KGgoAAAANSUhEUgAAADAAAAA6CAYAAAD2mdrhAAAD50lEQVRoge3ZT4jVVRQH8M9P
a2ikxTDluHEV1a4CIURQs4HGop1FRdRq0P4Yai3cRATiqqgmqRyZWglNSUirQAOLMRCRgpqN
YLRy00xTtijNGF+Le57zfL437/5+b1KU94XH78y9537POb/fPfeee4ceeuihhx566KGHyija
dfy++u5ag04reUns5GLw7M8t25d1S3y9ccsifUWG3AlVvlYp3PBfoBfA9cZiObCUKJML7Va9
lrl3w3+BtitKrRaBFwWt5FJWKo67gqK1q+0DKGuhSwc7oV0AN/cUWr1y67X05SqcnZ24LLf7
Aku1Ct2KzXgED+IurIq+X/ELTuFrHMG/S2S36wAGsAsvY2UbnVXxW4cd+A0fYgznurTfVQ48
g9N4U3J+OuRhRfHlZa0kD0ffNO4M+XRwdIUqASzHR5iU3uxxbMT92INvcL5B/3y07QmdjZiK
sZPBtbya++UDWI5DeAkX8CIeiiAWUKs9Ky0QRciNOI5NMfZCcB1SMYiyAYxhizR3h3FAtZK5
FmOH8Udwvl+Bp1QAT+MVaUo8ihNVDDbhBB7D39geNkohN4AB7Av5NZwsa6gBo9Lbry/sJ/Fq
yPvCVjZyA9iFIWn+HihjoAmjmMA2jDe0T0iJPRS2spETQJ+0zsPrqh8T687XS+RTDX214Ba2
+nJJcwIYkdb5nzSvNvlodn4bPm7S+Q4/hq2RXOLcAOBwLmkTcpyvo25jcy55TimxJp5TmZx9
eBvP4TasiPYatuKTRcbWbaxZROcK5ARwLyiKHXhcsWy3S/OXFtF/S6p5mrG480XxKf6Mc8U9
GX6lYe06Gsrp5qTtdC80h8Gmtr9we4dxV9nJKaev1YHmn/+LOCeAWaSqsijeydA/2KKtXdIu
oCgmFUV9b5jNsIO8HDiDlWq1fVJV2Qm7pWn2fPx9EG90HJWKvk1SkXcmww7yvsD38dyQyXkR
O6U8GAz5YubYjfH8IVM/K4Cj8Xwil7QLbGmy2RG5AcxJh5H1FZzKxXo8IM3/I7mDcgK4iA9C
3msJ/lnRAkVwk05ouVMuexkdw4x0+nqhlGt5GA3u2bCVjdwAzlnYXd/F2jJGOmCthdPYDiVv
KspsZJ9L1yH9+Eq6JukW64JrRXB/Vpag7E68U6oYB3FMmk5VcqKIsceC63Bwl0bZAObxFPZL
leY4vtW8R6TCrIZayI3YIG2I48GxPzjnS/qCajdz89KpaUqau/V7nml8IR16+hv0+/FwOP4k
7ov2Gemtl542jej2cndAOpBvxx2ZNuek+f6eDgl7LS53z0nXhHulU9SIhcvdodCZsXC5ezR+
2et8Dz30cJPjP37X3iBpuO6PAAAAAElFTkSuQmCC]]>
							</image>
						</images>
					</functionBlock>
				</functionBlocks>
				<programs/>
				<macros/>
				<structs/>
				<typedefs/>
				<enums/>
				<subranges/>
				<interfaces/>
			</lib>
			<lib version="1.0.0" name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\..\..\LogicLab5\Libraries\PID.plclib" fullXml="true" link="true">
				<descr/>
				<libWorkspace>
					<folder name="pid" id="603">
						<Pou name="FT_DERIV"/>
						<Pou name="FT_INT"/>
						<Pou name="FT_PID"/>
						<Pou name="DEAD_BAND"/>
					</folder>
				</libWorkspace>
				<globalVars/>
				<retainVars/>
				<constantVars/>
				<functions>
					<function name="DEAD_BAND" version="1.0.0">
						<descr>Linear transfer function with dead zone</descr>
						<returnValue>REAL</returnValue>
						<vars>
							<inputVars>
								<var name="x" type="REAL">
									<descr>Input value</descr>
								</var>
								<var name="l" type="REAL">
									<descr>Lockout value</descr>
								</var>
							</inputVars>
						</vars>
						<sourceCode type="ST">
							<![CDATA[(*
version 1.0	2 nov 2007
programmer 	hugo
tested by		tobias

DEAD_BAND ist eine lineare bertragungsfunktion mit Totzone. Die Funktion verschiebt den positiven Teil der Kurve um +L und den negativen Teil der Kurve um -L.
DEAD_BAND = X wenn Abs(X) > L wenn Abs(X) > L
DEAD_BAND = 0 wenn Abs(X) <= L
*)

IF ABS(x) > l THEN
	DEAD_BAND := x - SGN(x) * l;
ELSE
	DEAD_BAND := 0.0;
END_IF;

(* revision history
hm		2.11.07	rev 1.0
	original version
*)

]]>
						</sourceCode>
					</function>
					<function name="SGN" version="1.0.0">
						<descr>Calculates the signum of X.
SGN = +1 if X &gt; 0
SGN = 0 if X = 0
SGN = -1 if X &lt; 0
</descr>
						<returnValue>REAL</returnValue>
						<vars>
							<inputVars>
								<var name="X" type="REAL"/>
							</inputVars>
						</vars>
						<sourceCode type="ST">
							<![CDATA[
	IF X > 0.0 THEN
		SGN := 1.0;
	ELSIF X < 0.0 THEN
		SGN := -1.0;
	ELSE
		SGN := 0.0;
	END_IF;

]]>
						</sourceCode>
					</function>
				</functions>
				<functionBlocks>
					<functionBlock name="FT_DERIV" version="1.0.0">
						<descr>D-link, or LZI-transfer element, which has a diferentiating
transfer behavior. At the output of FT_DERIV the derivative is over time T
in seconds. When the input signal increases in one second from 3 to 4
then the output 1 * K (K * ? X / ? T = 1 * (4-3) / 1 = 1</descr>
						<vars>
							<inputVars>
								<var name="in" type="REAL">
									<descr>Signal input</descr>
								</var>
								<var name="K" type="REAL">
									<descr>Derivative gain</descr>
									<initValue>1</initValue>
								</var>
								<var name="run" type="BOOL">
									<descr>Block enable</descr>
									<initValue>1</initValue>
								</var>
							</inputVars>
							<outputVars>
								<var name="out" type="REAL">
									<descr>Signal output</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>System clock in ms</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="old" type="REAL"/>
								<var name="tx" type="DWORD"/>
								<var name="last" type="DWORD"/>
								<var name="init" type="BOOL"/>
							</localVars>
						</vars>
						<interfaces/>
						<methods/>
						<sourceCode type="ST">
							<![CDATA[(*
version 1.3	29 oct 2007
programmer 	hugo
tested by		tobias

FT_deriv calculates the derivate over the signal "in" with Faktor "K".
a run input enables or stops the calculation, if left unconnected its true and therfore the calculation is executed.
if K is not specified the default is 1.

*)

(* read system time *)
tx := sysTimer;

(* init on firsat startup *)
IF NOT init THEN
	init := TRUE;
	old := in;
	last := tx;
END_IF;
IF run AND tx - last > 0 THEN
	out := (in - old) / TO_REAL(tx - last) * 1000.0 * K;
	last := tx;
ELSE
	out := 0.0;
	last := tx;
END_IF;
old := in;


(*
hm 3.1.2007			rev 1.1
	added init code for startup
	set the default for K to 1

hm	15. sep 2007	rev 1.2
	replaced Time() with T_PLC_US for compatibility and performance reasons
	increased accuracy and work in microseconds internally

hm 29 oct 2007	rev 1.3
	prohibit calculation when tx - last = 0 to avoid division by 0 and increase accuracy on fast systems
*)

]]>
						</sourceCode>
					</functionBlock>
					<functionBlock name="FT_INT" version="1.0.0">
						<descr>Integrator module</descr>
						<vars>
							<inputVars>
								<var name="in" type="REAL">
									<descr>Signal input</descr>
								</var>
								<var name="K" type="REAL">
									<descr>Integral gain</descr>
									<initValue>1</initValue>
								</var>
								<var name="run" type="BOOL">
									<descr>Block enable</descr>
									<initValue>1</initValue>
								</var>
								<var name="rst" type="BOOL">
									<descr>Block reset</descr>
								</var>
								<var name="out_min" type="REAL">
									<descr>Lower output limit</descr>
									<initValue>-1E37</initValue>
								</var>
								<var name="out_max" type="REAL">
									<descr>Upper output limit</descr>
									<initValue>1E37</initValue>
								</var>
							</inputVars>
							<outputVars>
								<var name="out" type="REAL">
									<descr>Signal output</descr>
								</var>
							</outputVars>
							<externalVars>
								<var name="sysTimer" type="UDINT">
									<descr>System clock in ms</descr>
								</var>
							</externalVars>
							<localVars>
								<var name="last" type="UDINT"/>
								<var name="in_last" type="REAL"/>
								<var name="init" type="BOOL"/>
								<var name="tc" type="UDINT"/>
								<var name="out1" type="REAL"/>
								<var name="out2" type="REAL"/>
							</localVars>
						</vars>
						<interfaces/>
						<methods/>
						<sourceCode type="ST">
							<![CDATA[(*
version 1.9	16. mar 2008
programmer 	hugo
tested by		tobias

FT_int is an integrator with input IN and factor K.
integration is only done while run = true, if run is false integration is stopped and the out remains at the last value.
if run is left unconnected, run is considered true by the function block.
the output ET will display the total integration time from last reset.
a rst input will reset output and the timer ET to 0.
the out_min and out_max values can be set to ,imit the output value range. 
the default for K is 1.
*)

(* read and store system time *)
tc := sysTimer - last;
last := sysTimer;

(* startup initialisation *)
IF rst OR NOT init THEN
	out1 := 0.0;
	out2 := 0.0;
	init := TRUE;
ELSIF run AND tc > 0 THEN
	out1 := out1 + (in + in_last) * TO_REAL(tc) * K * 0.0005;
	IF ABS(out1) > ABS(out2) THEN
		out2 := out2 + out1;
		out1:= 0.0;
	END_IF;
END_IF;

in_last := in;
out := out1 + out2;

IF out > out_max THEN
	out2 := out_max;
	out1 := 0.0;
	out := out_max;
ELSIF out < out_min THEN
	out2 := out_min;
	out1 := 0.0;
	out := out_min;
END_IF;


(*
hm 13.12.2006	rev 1.1
	changed to "trapezregel" which increases accuracy
	before out := out + in * time new: out := out + (in + in_last) / 2 * time

hm 15.1.2007		rev 1.2
	added default for k to be 1.

hm	15.9.2007		rev 1.3
	replaced time() with T_PLC_US for compatibility and performance reason
	increased internal accuracy to microseconds

hm 29. oct 2007		rev 1.4
	changed code so int will not be called is time difference is 0 to increase accuracy on systems
	with cycle times below 1ms

hm	2. dec 2007	 	rev 1.5
	changed code for better performance

hm	5. jan 2008		rev 1.6
	further improvements in performance

hm	8. feb 2008		rev 1.7
	deleted limits +/- 1000 now limit is the range of real
	added variables out1 and out2 to extend the resolution
	corrected an error with elapsed time
	deleted unusfull output ET

hm	13. mar 2008	rev 1.8
	changed preset value out_min to -1e37.
	stop integrator at the limits.

hm	16. mar 2008	rev 1.9
	added type conversion to avoid warning under codesys 3.0

*)

]]>
						</sourceCode>
					</functionBlock>
					<functionBlock name="FT_PID" version="1.0.0">
						<descr>&lt;HTML&gt;&lt;b&gt;FT_PID&lt;/b&gt; is a PID controller of the following formula works:&lt;/br&gt;
&lt;p align= center &gt;Y = KP * ( IN + 1/TN * INTEG( IN ) + TV * DERIV( IN ))&lt;/p&gt;
The control parameters are given in the form of KP, TN and TV, and if there are parameters KP, KI and KD they can be converted using the following formula:&lt;/br&gt;
&lt;p align= center &gt;TN = KP/KI and TV = KD/KP&lt;/p&gt;
The input values ILIM_H and ILIM_L limit the working area of the internal integrator. With RST, the internal integrator will always set to 0. The output LIM signals that the integrator runs one of the limits or ILIM_L ILIM_H.&lt;/br&gt;
The PI controller is free running and uses the trapezoidal rule to calculate the integrator for the highest accuracy and optimal speed.&lt;/br&gt;
The following graph illustrates the internal structure of the controller:&lt;/br&gt;
&lt;img src= pidscheme.png  align= center &gt;&lt;/br&gt;
The default values of the input parameters are predefned as follows:&lt;/br&gt;
&lt;ul&gt;
&lt;li&gt;KP = 1&lt;/li&gt;
&lt;li&gt;TN = 1s&lt;/li&gt;
&lt;li&gt;TV = 1s&lt;/li&gt;
&lt;li&gt;ILIM_L =-1E38&lt;/li&gt;
&lt;li&gt;ILIM_H =+1 E38&lt;/li&gt;
&lt;/ul&gt;
&lt;b&gt;Anti Wind-Up&lt;/b&gt;&lt;/br&gt;
Control modules with integrator tend to the so-called &lt;b&gt;wind-up efect&lt;/b&gt;. A wind-up means that the integrator module continuously run again because, for example, the control signal Y is at a limit and the system can not compensate the deviation, which then leads to subsequent transition into the control range until a long and time-consuming dismantling of the integrator value and the scheme only respond delayed.&lt;/br&gt;
Since the integrator is only necessary to compensate the deviation for all other control units, and the range of the integrator should be limited with the values of ILIM. The Integrator then reaches a limit and stops remaining at the last valid value.&lt;/br&gt;
For other wind-up action, the integrator can be controlled with the input IEN = FALSE any time separately, the Integrator only runs when IEN = TRUE.&lt;/br&gt;&lt;/br&gt;
&lt;b&gt;FT_PD&lt;/b&gt; can be used in conjunction with the modules CTRL_IN and CTRL_OUT to establish a PD controller.</descr>
						<vars>
							<inputVars>
								<var name="actual" type="REAL">
									<descr>Signal actual value (feedback)</descr>
								</var>
								<var name="set_point" type="REAL">
									<descr>Controller setpoint</descr>
								</var>
								<var name="noise" type="REAL">
									<descr>Noise value for filtering</descr>
								</var>
								<var name="offset" type="REAL">
									<descr>Output offset</descr>
								</var>
								<var name="manual_in" type="REAL">
									<descr>Manual signal input</descr>
								</var>
								<var name="manual" type="BOOL">
									<descr>Manual mode enable</descr>
								</var>
								<var name="rst" type="BOOL">
									<descr>Controller reset</descr>
									<initValue>FALSE</initValue>
								</var>
								<var name="int_band" type="REAL">
									<descr>Integrator input working range</descr>
									<initValue>100</initValue>
								</var>
								<var name="KP" type="REAL">
									<descr>Proportional gain</descr>
									<initValue>1.0</initValue>
								</var>
								<var name="TN" type="REAL">
									<descr>Integral gain</descr>
									<initValue>1.0</initValue>
								</var>
								<var name="TV" type="REAL">
									<descr>Derivative gain</descr>
									<initValue>1.0</initValue>
								</var>
								<var name="limit_L" type="REAL">
									<descr>Output signal lower limit</descr>
									<initValue>-1000</initValue>
								</var>
								<var name="limit_H" type="REAL">
									<descr>Output signal upper limit</descr>
									<initValue>1000</initValue>
								</var>
							</inputVars>
							<outputVars>
								<var name="y" type="REAL">
									<descr>Output signal</descr>
								</var>
								<var name="diff" type="REAL">
									<descr>Actual error value</descr>
								</var>
								<var name="lim" type="BOOL">
									<descr>In-limit output status</descr>
								</var>
								<var name="overflow" type="BOOL">
									<descr>Integral overflow status</descr>
								</var>
							</outputVars>
							<localVars>
								<var name="integ" type="FT_INT"/>
								<var name="deriv" type="FT_DERIV"/>
								<var name="int_limit_L" type="REAL">
									<initValue>-1000</initValue>
								</var>
								<var name="int_limit_H" type="REAL">
									<initValue>1000</initValue>
								</var>
							</localVars>
						</vars>
						<interfaces/>
						<methods/>
						<sourceCode type="ST">
							<![CDATA[(*
version 1.6	5 jan 2008
programmer 	hugo
tested by		tobias

FT_PID is a pid controller with manual functionality.
The PID controller works according to the fomula Y = KP * ( e + 1/TN * INTEG(e) + TV * DERIV(e)) + offset, while e = set_point - actual.
a rst will reset all internal data, while a switch to manual will cause the controller to follow the function Y = manual_in + offset.
limit_h and Limit_l set the possible output range of Y.
the output flags lim will signal that the output limits are active and overflow will signal that the integrator has reached the max or min limit.  

since rev 1.1 the "trapezregel is used for more accuracy.
rev 1.2 added selective integratin which means the integrative component is only active within a small range of the target value 
this avoids the integrator to go to limits while an input setpoint change happened and is only causing overshoots.
the int_band is by default 100 which means the int is active all the time and if set to for example to 0.1 the integrator is only active
while the input is between 0.9 and 1.1 of the set_point value.

default values for KP = 1, TN = 1, TV = 1, LIMIT_L = -1000, LIMIT_H = +1000.
*)

IF NOT rst AND NOT manual THEN
	(* calculate the process error *)
	diff := DEAD_BAND(set_point - actual, noise);
	IF ABS(diff) <= int_band AND NOT overflow AND TN > 0.0 THEN
		(* integrator is within int_band and needs to be run *)
		integ(in := diff, K := 1.0/TN, run := TRUE, rst := FALSE, out_min := int_limit_L, out_max := int_limit_H);
		(* check if integrator has reached its limits and set overflow *)
		IF integ.out >= int_limit_H OR integ.out <= int_limit_L THEN
			overflow := TRUE;
		END_IF;
	ELSE
		(* int_band is exceeded, integrator needs to be cleared *)
		integ(rst := TRUE);
	END_IF;
	(* calculate the derivative part *)
	deriv(in := diff, K := TV);
	(* add up all parts *)
	y := KP * (integ.out + deriv.out + diff);
ELSIF rst THEN
	integ(rst := TRUE);		(* reset the integrator *)
	overflow := FALSE;		(* clear the overflow flag *)
	y := (limit_H + limit_L) * 0.5 - offset;	(* set the output between limit_L and limit_L offset will be added again at the end *)
ELSIF manual THEN
	y := manual_in;
	integ(rst := TRUE);		(* make sure integrator is reset to 0 *)
	overflow := FALSE;		(* manual operation will cancel overflow because integrator was reset *)
END_IF;

(* add offset to Y *)
y := y + offset;

(* limit the outputs and set the lim flag if necessary *)
IF y > limit_H THEN
	y := limit_H;
	lim := TRUE;
ELSIF y < limit_L THEN
	y := limit_L;
	lim := TRUE;
ELSE
	lim := FALSE;
END_IF;



(* revision history

hm 1.12.2006	 	rev 1.1
	changed algorithm to trapezregel for higher accuracy.

hm 3.1.2007		rev 1.2
	added integ_band to select when the integrator is active.

hm	3.3.2007		rev 1.3
	added default values to inputs KP, TN, TV, LIMIT_L und LIMIT_H.

hm 31.oct 2007	rev 1.4
	total rewrite of the module to avoid failures when one of the limits is 0

hm	3.11.2007	rev 1.5
	added noise input to filter noise
	added output diff
	set limit output false when output is within limits
	overfolw was not set correctly

hm	5. jan 2008	rev 1.6
	improved code for better performance
*)

]]>
						</sourceCode>
						<images>
							<image name="pidscheme.png" width="502" height="258">
								<![CDATA[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]]>
							</image>
							<image icon="true" name="pid1.png" width="75" height="100">
								<![CDATA[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]]>
							</image>
						</images>
					</functionBlock>
				</functionBlocks>
				<programs/>
				<macros/>
				<structs/>
				<typedefs/>
				<enums/>
				<subranges/>
				<interfaces/>
			</lib>
			<lib name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\Libraries\FileSystem.pll" fullXml="false" link="true">
				<![CDATA[	(************************)
	(*                      *)
	(*        ENUMS         *)
	(*                      *)
	(************************)

TYPE

	FS_OpenMode: ( { DE:"File open mode" }
		FM_RT, { DE:"Read text file" }
		FM_WT, { DE:"Write new text file" }
		FM_AT, { DE:"Append to an existing text file" }
		FM_RB, { DE:"Read binary file" }
		FM_WB, { DE:"Write binary file" }
		FM_AB, { DE:"Append binary file" }
		FM_RUT, { DE:"Read/update text file" }
		FM_WUT, { DE:"Write/update new text file" }
		FM_AUT, { DE:"Append/update to an existing text file" }
		FM_RUB, { DE:"Read/update binary file" }
		FM_WUB, { DE:"Write/update binary file" }
		FM_AUB { DE:"Append/update binary file" }
	);

	FS_SeekMode: ( { DE:"File seek mode" }
		SEEK_SET, { DE:"Move cursor to the initial position of the stream" }
		SEEK_CUR, { DE:"Current position of the cursor" }
		SEEK_END  { DE:"Move cursor to the end of the stream" }
	);

END_TYPE


	(************************)
	(*                      *)
	(*      TYPEDEFS        *)
	(*                      *)
	(************************)

TYPE
	FS_FILE_HANDLE : DINT; 
	FS_FIND_HANDLE : DINT; 
END_TYPE


	(*********************)
	(*                   *)
	(*     FUNCTIONS     *)
	(*                   *)
	(*********************)

FUNCTION FS_FileExists : BOOL
{ DE:"Check if the specified file exists or not
	The function returns a BOOL with the following meanings
	TRUE = Specified file exists.
	FALSE =	Specified file does not exists or invalid calling task.
" }
        
	VAR_INPUT
		name	: STRING;	{ DE:"File name" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_DeleteFile : BOOL
{ DE:"Delete a file.
	The function returns a BOOL with the following meaning:
	TRUE = File deleted.
	FALSE =	Cannot delete file or invalid calling task.
" }
        
	VAR_INPUT
		name	: STRING;	{ DE:"File name" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_OpenFile : FS_FILE_HANDLE
{ DE:"Open a file in the specified mode.
	The function returns an UDINT with the following meaning:
	0 = No file found.
	-1 = Invalid calling task
	Otherwise = handle of the file.
" }
        
	VAR_INPUT
		name	: STRING;		{ DE:"File name" }
		mode	: FS_OpenMode;	{ DE:"File open mode" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_OpenFileSync : FS_FILE_HANDLE
{ DE:"Open a file in the specified mode.
	The function returns an UDINT with the following meaning:
	0 = No file found.
	-1 = Invalid calling task
	Otherwise = handle of the file.
" }
        
	VAR_INPUT
		name	: STRING;		{ DE:"File name" }
		mode	: FS_OpenMode;	{ DE:"File open mode" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_CloseFile : BOOL
{ DE:"Close the specified file.
	The function returns a BOOL with the following meaning:
	TRUE = File closed.
	FALSE = An error occurred or invalid calling task
" }
        
	VAR_INPUT
		handle	: FS_FILE_HANDLE;	{ DE:"Handle of the file" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_SeekFile : BOOL
{ DE:"Seek a position into the file.
	TRUE = Cursor position set.
	FALSE = An error occurred or invalid calling task
" }
        
	VAR_INPUT
		handle	: FS_FILE_HANDLE;	{ DE:"Handle of the file" }
		seekmode : FS_SeekMode;	{ DE:"Seek position" }
		offset	: DINT;		{ DE:"Offset from specified position" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_WriteFile : UDINT
{ DE:"Write binary data to the specified file.
The function returns the number of bytes written, or
	0 = Error writing
	-1 = Invalid calling task
" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
		data : DWORD;		{ DE:"Buffer to write" }
		len : UDINT;		{ DE:"Data length" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_ReadFile : UDINT
{ DE:"Read binary data from the specified file.
The function returns the number of bytes read, or
	0 = Error reading
	-1 = Invalid calling task
" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
		data : DWORD;		{ DE:"Buffer for data read" }
		len : UDINT;		{ DE:"Data length" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_WriteString : BOOL
{ DE:"Write a STRING to the specified file. Returns FALSE if error or invalid calling task" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
		str : STRING;		{ DE:"String to write" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_ReadString : BOOL
{ DE:"Read a STRING from the specified file. Returns FALSE if error or invalid calling task" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
		str : STRING;		{ DE:"String for data read" }
		len : UDINT;		{ DE:"Data length" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_FileEOF : BOOL
{ DE:"Test if end of file is reached.
The function returns a BOOL with the following meaning:
	TRUE	=	End of file reached.
	FALSE	=	End of file not reached yet.
" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_FileTell : DINT
{ DE:"Returns the actual position of the file:
	-1 in case of error.
" }

	VAR_INPUT
		handle : FS_FILE_HANDLE;		{ DE:"Handle of the file" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION


FUNCTION FS_FindFirstFile : FS_FIND_HANDLE
{ DE:"Searches for files on the disk, starting on path and using the specified filter with wildcard.
Returns an handle that can be passed to FS_Find* functions, or 0 if no files found; returns -1 for invalid calling task" }
	VAR_INPUT
		path: STRING;  {DE:"Starting path for seaching"}
		filter: STRING;  {DE:"Filter with wildcards"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_FindNextFile : BOOL
{ DE:"Searches the next matching file. Returns FALSE if no more files are found or invalid calling task" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_FindClose : BOOL
{ DE:"Close a search handle" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Find_GetFileName : STRING
{ DE:"Returns the name of a matching file of a search" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Find_GetFileSize : UDINT
{ DE:"Returns the size of a matching file of a search" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Find_IsDirectory : BOOL
{ DE:"Returns if matching file is a directory" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Find_IsWritable : BOOL
{ DE:"Returns if matching file is writable" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Find_GetFileTime : BOOL
{ DE:"Returns the date and time of a matching file of a search" }
	VAR_INPUT
		handle: FS_FIND_HANDLE;  {DE:"Handle returned by FS_FindFirstFile"}
		day: @USINT;
		month: @USINT;
		year: @UINT;
		dayOfWeek: @UINT;
		hours: @USINT;
		minutes: @USINT;
		seconds: @USINT;
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_CopyFile : BOOL
{ DE:"Copy a file" }
	VAR_INPUT
		src: STRING;
		dest: STRING;
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_CopyFileSync : BOOL
{ DE:"Copy a file" }
	VAR_INPUT
		src: STRING;
		dest: STRING;
	END_VAR
	
	{CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_MoveFile : BOOL
{ DE:"Move or rename a file" }
	VAR_INPUT
		src: STRING;
		dest: STRING;
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_DirExists : BOOL
{ DE:"Check if the specified directory exists or not
	The function returns a BOOL with the following meanings
	TRUE = Specified directory exists.
	FALSE =	Specified directory does not exists or invalid calling task.
" }
        
	VAR_INPUT
		name	: STRING;	{ DE:"Directory name" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_CreateDir : BOOL
{ DE:"Create specified directory if not exists
	The function returns a BOOL with the following meanings
	TRUE = Specified directory created.
	FALSE =	Cannot create directory or directory already exists or invalid calling task.
" }
        
	VAR_INPUT
		name	: STRING;	{ DE:"Directory name" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Flush : BOOL
{ DE:"Force writing on specified handle.
	The function returns a BOOL with the following meaning:
	TRUE = flush ok
	FALSE = An error occurred or invalid calling task
" }
        
	VAR_INPUT
		handle	: FS_FILE_HANDLE;	{ DE:"Handle of the file" }
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION

FUNCTION FS_Sync : BOOL
{ DE:"Sync all modifies on external drivers (only POSIX compatible targets)" }
	VAR_INPUT
		dmy: BOOL;
	END_VAR

    {CODE:EMBEDDED}
END_FUNCTION
]]>
			</lib>
			<lib name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\Libraries\Serial.pll" fullXml="false" link="true">
				<![CDATA[	(************************)
	(*                      *)
	(*      TYPEDEFS        *)
	(*                      *)
	(************************)

TYPE
	SERIAL_HANDLE : DINT; 
END_TYPE

	(************************)
	(*                      *)
	(*        ENUMS         *)
	(*                      *)
	(************************)

TYPE

	SERIAL_OPT: ( { DE:"COM option that can be set using Serial_SetOption, Serial_GetOption or Serial_ConfigPort functions" }
		SERIAL_OPT_PORT				:=1,	{ DE:"COM port number" }
		SERIAL_OPT_BAUDRATE			:=2,	{ DE:"Baudrate (supported values: 115200, 57600, 38400, 19200, 9600, 4800, 2400)" }
		SERIAL_OPT_PARITY			:=3,	{ DE:"Parity (0 = NO Parity, 1 = ODD parity, 2 = EVEN parity, 3 = MARK parity, 4 = SPACE parity)" }
		SERIAL_OPT_BYTESIZE			:=4,	{ DE:"Bytesize (7, 8)" }
		SERIAL_OPT_STOPBITS			:=5,	{ DE:"Stopbits (0 = 1 stopbit, 1 = 1.5 stopbits, 2 = 2 stopbits)" }
		SERIAL_OPT_RX_TIMEOUT		:=6,	{ DE:"Rx timeout (Default 1000)" }
		SERIAL_OPT_XONXOFF_ENA		:=7,	{ DE:"XON/XOFF software flow control enabled (TRUE/FALSE. Default FALSE)" }
		SERIAL_OPT_RTSCTS_ENA		:=8,		{ DE:"RTS/CTS hardware flow control enabled (TRUE/FALSE. Default FALSE)" }
		SERIAL_OPT_USBSERIAL		:=11	{ DE:"USB-SERIAL setting (0 = not enabled, 1 = Standard class, 2 = Communication class )" }
	);

END_TYPE

TYPE

	SERIAL_RET: ( { DE:"COM return value definitions." }
		SERIAL_OK							:=0,	{ DE:"OK" }
		SERIAL_ERR_NOT_OPENED				:=-1,	{ DE:"ERR Port is not opened" }
		SERIAL_ERR_NOT_CONFIGURED			:=-2,	{ DE:"ERR Port is not configured" }
		SERIAL_ERR_ALREADY_OPENED			:=-3,	{ DE:"ERR Port is already opened" }
		SERIAL_ERR_ALREADY_CONFIGURED		:=-4,	{ DE:"ERR Port is already configured" }
		SERIAL_ERR_INVALID_VALUE			:=-5,	{ DE:"ERR Invalid value specified" }
		SERIAL_ERR_INVALID_OPTION			:=-6,	{ DE:"ERR Invalid option specified" }
		SERIAL_ERR_MAX_PORT_OPENED			:=-7,	{ DE:"ERR Max number of port opened" }
		SERIAL_ERR_CANNOT_OPEN				:=-8,	{ DE:"ERR Cannot open port" }
		SERIAL_ERR_CANNOT_CLOSE				:=-9,	{ DE:"ERR Cannot close port" }
		SERIAL_ERR_READ						:=-10,	{ DE:"ERR Read" }
		SERIAL_ERR_READ_TIMEOUT				:=-11,	{ DE:"ERR Read timeout" }
		SERIAL_ERR_NOT_SUPPORTED_OPTION		:=-12,	{ DE:"ERR Option is not supported for the current architecture" }
		SERIAL_ERR_INVALID_VALUE_BAUDRATE	:=-13,	{ DE:"ERR invalid baudrate value specified" }
		SERIAL_ERR_INVALID_VALUE_PARITY 	:=-14,	{ DE:"ERR invalid parity value specified" }
		SERIAL_ERR_INVALID_VALUE_BYTESIZE	:=-15,	{ DE:"ERR invalid bytesize value specified" }
		SERIAL_ERR_INVALID_VALUE_STOPBITS	:=-16,	{ DE:"ERR invalid stopbits value specified" }
		SERIAL_ERR_NOT_ALLOWED_IN_IOTASK	:=-17,	{ DE:"ERR operation not allowed in high priority task" }
		SERIAL_ERR_BUFFER					:=-18	{ DE:"ERR buffer is too small" }
	);

END_TYPE

TYPE

	SERIAL_BAUDRATE: ( { DE:"Available baudrate" }
		SERIAL_BAUDRATE_2400	:=2400,		{ DE:"Baudrate 2400" }
		SERIAL_BAUDRATE_4800	:=4800,		{ DE:"Baudrate 4800" }
		SERIAL_BAUDRATE_9600	:=9600,		{ DE:"Baudrate 9600" }
		SERIAL_BAUDRATE_19200	:=19200,	{ DE:"Baudrate 19200" }
		SERIAL_BAUDRATE_38400	:=38400,	{ DE:"Baudrate 38400" }
		SERIAL_BAUDRATE_57600	:=57600,	{ DE:"Baudrate 57600" }
		SERIAL_BAUDRATE_115200	:=115200	{ DE:"Baudrate 115200" }
	);

END_TYPE

TYPE

	SERIAL_PARITY: ( { DE:"Available parity settings" }
		SERIAL_NOPARITY		:=0,	{ DE:"Parity NONE" }
		SERIAL_ODDPARITY	:=1,	{ DE:"Parity ODD" }
		SERIAL_EVENPARITY	:=2,	{ DE:"Parity EVEN" }
		SERIAL_MARKPARITY	:=3,	{ DE:"Parity MARK" }
		SERIAL_SPACEPARITY	:=4		{ DE:"Parity SPACE" }
	);

END_TYPE

TYPE

	SERIAL_BYTESIZE: ( { DE:"Available bytesize settings" }
		SERIAL_BYTESIZE_7	:=7,	{ DE:"Bytesize 7" }
		SERIAL_BYTESIZE_8	:=8		{ DE:"Bytesize 8" }
	);

END_TYPE

TYPE

	SERIAL_STOPBITS: ( { DE:"Available stopbits settings" }
		SERIAL_ONESTOPBIT	:=0,	{ DE:"One stopbit" }
		SERIAL_TWOSTOPBITS	:=2		{ DE:"Two stopbits" }
	);

END_TYPE

TYPE

	SERIAL_USBSERIAL_CLASS: ( { DE:"Available usb-serial classes" }
		SERIAL_USBSERIAL_CLASS_STANDARD			:=1,		{ DE:"Standard class" }
		SERIAL_USBSERIAL_CLASS_COMMUNICATION	:=2		{ DE:"Communication class" }
		
	);

END_TYPE

	(************************)
	(*                   	*)
	(*     FUNCTIONS        *)
	(*                   	*)
	(************************)
	
FUNCTION Serial_ConfigPortByName : SERIAL_HANDLE
	
	{ DE:"Configure port settings.
If port has been configured (or opened) value returned is a SERIAL_HANDLE >= 0, otherwise is a SERIAL_RET error code." }
	
	VAR_INPUT
	port_dev : STRING[64]; { DE:"The name of the port device (eg: /dev/ttyUSB0)" }
	baudrate : SERIAL_BAUDRATE; { DE:"One of the SERIAL_BAUDRATE supported values" }
	parity : SERIAL_PARITY; { DE:"One of the SERIAL_PARITY supported values" }
	bytesize : SERIAL_BYTESIZE; { DE:"One of the SERIAL_BYTESIZE supported values" }
	stopbits : SERIAL_STOPBITS; { DE:"One of the SERIAL_STOPBITS supported values" }
	open : BOOL; { DE:"If TRUE open the COM port with the values passed as parameters and the other default options." }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_SetOption : SERIAL_RET
	
	{ DE:"Change setting for the specified option.
SERIAL_OK if the option has been set, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	option : SERIAL_OPT; { DE:"The SERIAL_OPT to set" }
	value : DINT; { DE:"Value depends on the option specified" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_GetOption : DINT
	
	{ DE:"Get port configuration settings.
Returns a value >= 0 with the value of the option if can be retrieved, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	option : SERIAL_OPT; { DE:"The SERIAL_OPT to get." }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_OpenPort : SERIAL_RET
	
	{ DE:"Open the specified port using the configured settings.
Returns SERIAL_OK if the option has been opened, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_ClosePort : SERIAL_RET
	
	{ DE:"Function to close the specified port.
Returns SERIAL_OK if the port has been closed, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_PutBuff : SERIAL_RET
	
	{ DE:"Send 1 or more BYTE data.
The number of bytes put on the serial otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	buff : @BYTE; { DE:"The address of the TX buffer. Address can be retrieved using ADR operator" }
	len : UINT; { DE:"The number of bytes to send" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_GetBuff : SERIAL_RET
	
	{ DE:"Receive the specified number of BYTEs.
Returns a value >= 0 indicating the bytes received, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	buff : @BYTE; { DE:"The address of the array of BYTE in which to put the received data. Address can be retrieved using ADR operator" }
	len : UINT; { DE:"The number of BYTEs to receive" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_GetBuff_tmo : SERIAL_RET
	
	{ DE:"Receive the specified number of BYTEs. It is also possible to specify the timeout.
Returns a value >= 0 indicating the bytes received, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	buff : @BYTE; { DE:"The address of the array of BYTE in which to put the received data. Address can be retrieved using ADR operator" }
	len : UINT; { DE:"The number of BYTEs to receive" }
	tmo : UINT; { DE:"Timeout in ms specified for current function" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION


FUNCTION Serial_PutString : SERIAL_RET
	
	{ DE:"Send a STRING.
Returns the number of characters put on the serial otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	str : STRING; { DE:"The STRING to transmit" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_PutByte : SERIAL_RET
	
	{ DE:"Send a single BYTE value.
Returns 1 if the BYTE can be put on the serial bus, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	val : BYTE; { DE:"The BYTE value to send" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_GetByte : SERIAL_RET
	
	{ DE:"Receive a single byte. 
Returns 1 if the BYTE has been received, otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	val : @BYTE; { DE:"The address of the BYTE in which to put the received data. Address is retrieved using ADR operator" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

FUNCTION Serial_GetByte_tmo : SERIAL_RET
	
	{ DE:"Receive a single byte specifying the timeout. " }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	val : @BYTE; { DE:"The address of the BYTE in which to put the received data" }
	tmo : UINT; { DE:"Timeout in ms for the current function only" }
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION

	(************************)
	(*                   	*)
	(*     FUNCTIONS BLOCK  *)
	(*                   	*)
	(************************)


FUNCTION_BLOCK Serial_GetString
	
	{ DE:"Receive a STRING.
Returns a value > 0 indicates the number of bytes received (including termination character), otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	str : UDINT; { DE:"The address of a STRING in which to put the received data" }
	len : UINT; { DE:"The max of characters of the string. The size of the string as indicated in the declaration of the STRING variable is the max size that can be indicated." }
	term : UDINT; { DE:"The address of a STRING in which to put the termination character" }
	END_VAR
	
	VAR_OUTPUT
	esi : SERIAL_RET; { DE:"Operation result" } 
	hasTerm : BOOL; { DE:"true if the string has the terminator char " } 
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION_BLOCK

FUNCTION_BLOCK Serial_GetString_tmo
	
	{ DE:"Receive a STRING. It is also possible to specify the timeout.
Returns a value > 0 indicates the number of bytes received (including null character), otherwise a SERIAL_RET error code" }
	
	VAR_INPUT
	handle : SERIAL_HANDLE; { DE:"The handle of the port" }
	str : UDINT; { DE:"The address of a STRING in which to put the received data" }
	len : UINT; { DE:"The max of characters of the string. The size of the string as indicated in the declaration of the STRING variable is the max size that can be indicated." }
	term : UDINT; { DE:"The address of a STRING in which to put the termination character" }
	tmo : UINT; { DE:"Timeout in ms specified for current function" }
	END_VAR
	
	VAR_OUTPUT
	esi : SERIAL_RET; { DE:"Operation result" } 
	hasTerm : BOOL; { DE:"true if the string has the terminator char " } 
	END_VAR
	
	{CODE:EMBEDDED}
	
END_FUNCTION_BLOCK

]]>
			</lib>
			<lib name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\Libraries\Modbus.pll" fullXml="false" link="true">
				<![CDATA[
	(************************)
	(*                      *)
	(*        ENUMS         *)
	(*                      *)
	(************************)

TYPE

	MB_DATA_TYPE: ( { DE:"Data types for modbus call" }
		DATA_T_SINT, { DE:"SINT" }
		DATA_T_USINT, { DE:"USINT" }
		DATA_T_BYTE, { DE:"BYTE" }
		DATA_T_INT, { DE:"INT" }
		DATA_T_UINT, { DE:"UINT" }
		DATA_T_WORD, { DE:"WORD" }
		DATA_T_DINT, { DE:"DINT" }
		DATA_T_UDINT, { DE:"UDINT" }
		DATA_T_DWORD, { DE:"DWORD" }
		DATA_T_REAL, { DE:"REAL" }
		DATA_T_BOOL{ DE:"BOOL" }
	);

END_TYPE

TYPE

	MB_ESI_VALUE: ( { DE:"Return value from modbus function call" }
		MB_E_OK						:=0,		{ DE:"Successful command" }
		MB_E_NODE					:=-301,		{ DE:"Not valid node" }
		MB_E_NODENOTEXIST			:=-303,		{ DE:"Not assigned node" }
		MB_E_DATATYPE				:=-311,		{ DE:"Data type parameter not valid" }
		MB_E_PROTOCOL				:=-320,		{ DE:"Protocol error" }
		MB_E_IDE					:=-321,		{ DE:"Ide doesn't match" }
		MB_E_ILLEGALFUNCTION		:=-322,		{ DE:"Illegal function" }
		MB_E_ILLEGALDATAADDR		:=-323,		{ DE:"Illegal data address" }
		MB_E_ILLEGALDATAVALUE		:=-324,		{ DE:"Illegal data value" }
		MB_E_SLAVEDEVICEFAILURE		:=-325,		{ DE:"Slave device failure" }
		MB_E_ACKNOWLEDGE			:=-326,		{ DE:"Acknowledge" }
		MB_E_SLAVEDEVICEBUSY		:=-327,		{ DE:"Slave device busy" }
		MB_E_MEMORYPARITYERROR		:=-328,		{ DE:"Memory parity error" }
		MB_E_GATEWAYPATHUNAV		:=-329,		{ DE:"Gateway path unavailable" }
		MB_E_GATEWAYDEVICEFAILED	:=-330,		{ DE:"Gateway target device failed to respond" }
		MB_E_TIMEOUT				:=-331,		{ DE:"Time out richiesta" }
		MB_E_ILLEGALDATAPROTOCOL	:=-332,		{ DE:"Illegal data value in protocol" }
		MB_E_NOTALLOWEDINTIMEDTASK  :=-336		{ DE:"Function cannot be called in a timed task" }
	);

END_TYPE

TYPE
    MBMNODESTATUS : STRUCT 
	cfg : BOOL; { DE:"Configurated" }
	pres : BOOL; { DE:"Present" }
	active : BOOL; { DE:"Indicate if node is active on network" }
	miss : BOOL; { DE:"Slave failure" }
	address : UINT; { DE: "Address" }
	missCnt : UINT; { DE:"Number of Task Timed cycles with Slave failure" }
	state : INT; { DE:"Slave failure error code" }
	netStat : UINT; { DE: "Status of the node in the network" }
    END_STRUCT;
END_TYPE

TYPE
    MBMTCPNODESTATUS : STRUCT 
	cfg : BOOL; { DE:"Configurated" }
	pres : BOOL; { DE:"Present" }
	active : BOOL; { DE:"Indicate if node is active on network" }
	miss : BOOL; { DE:"Slave failure" }
	ip : STRING[ 19 ]; { DE: "IP address" }
	address : UINT; { DE: "Subnet Address" }
	missCnt : UINT; { DE:"Number of Task Timed cycles with Slave failure" }
	state : INT; { DE:"Slave failure error code" }
	netStat : UINT; { DE: "Status of the node in the network" }
    END_STRUCT;
END_TYPE

{ ALLOCATE:sysMbMRtuNodeStatus }
{ ALLOCATE:sysMbMTcpNodeStatus }

VAR_GLOBAL

	{G:"Modbus RTU Master"}
	sysMbMRtuNodeStatus	AT %IB60010.0	: ARRAY[ 0..247 ] OF MBMNODESTATUS;
	{ DE:"System Modbus Master RTU communication status. It is a structure of type MBMNODESTATUS composed
by the following fields:
	cfg :       BOOL; Configurated
	pres :      BOOL; Present
	active : BOOL; Indicate if node is active on network
	miss :      BOOL; Slave failure
	address : UINT; Address
	missCnt:    UINT; Number of Task Timed cycles with Slave failure
	state :     INT; Slave failure error code
	netStat :   UINT; Status of the node in the network

state could have the following meanings:
(valid only if miss is TRUE )
	MB_E_PROTOCOL               -320    Protocol error
	MB_E_IDE                    -321    Ide not match                        
	MB_E_ILLEGALFUNCTION        -322    Illegal function                        
	MB_E_ILLEGALDATAADDR        -323    Illegal data address                    
	MB_E_ILLEGALDATAVALUE       -324    Illegal data value                      
	MB_E_SLAVEDEVICEFAILURE     -325    Slave device failure                    
	MB_E_ACKNOWLEDGE            -326    Acknowledge                             
	MB_E_SLAVEDEVICEBUSY        -327    Slave device busy                       
	MB_E_MEMORYPARITYERROR      -328    Memory parity error                     
	MB_E_GATEWAYPATHUNAV        -329    Gateway path unavailable                
	MB_E_GATEWAYDEVICEFAILED    -330    Gateway target device failed to respond 
	MB_E_TIMEOUT                -331    Time out richiesta
	MB_E_ILLEGALDATAPROTOCOL    -332    Illegal data value in protocol
	MB_E_SWITCHEDOFF            -335    Node is switched off	
	
netStat can have the following meanings:
(node == 0, master)
	MB_MST_NOT_READY            0    Not ready
	MB_MST_READY                1    Ready
	MB_MST_START                2    Start
	MB_MST_STOP                 3    Stop
	MB_MST_RUN                  4    Run
	MB_MST_STOPPED              5    Stopped
	MB_MST_ERROR                6    Error
	
(node >= 1, slave)
	MB_SLV_DISCONNECTED         0    Disconnected
	MB_SLV_OPENCONN             1    Connection opened
	MB_SLV_CLOSECONN            2    Connection closed
	MB_SLV_PAR                  3    Parameters setting
	MB_SLV_RUN                  4    Running
" }	

	{G:"Modbus TCP Master"}
	sysMbMTcpNodeStatus	AT %IB60020.0	: ARRAY[ 0..247 ] OF MBMTCPNODESTATUS;
	{ DE:"System Modbus Master TCP communication status. It is a structure of type MBMTCPNODESTATUS composed
by the following fields:
	cfg :       BOOL; Configurated
	pres :      BOOL; Present
	active : BOOL; Indicate if node is active on network
	miss :      BOOL; Slave failure
	ip : STRING; IP address
	address : UINT; Subnet Address
	missCnt:    UINT; Number of Task Timed cycles with Slave failure
	state : INT; Slave failure error code
	netStat : UINT; Status of the node in the network

state could have the following meanings:
(valid only if miss is TRUE )
	MB_E_PROTOCOL               -320    Protocol error
	MB_E_IDE                    -321    Ide not match                        
	MB_E_ILLEGALFUNCTION        -322    Illegal function                        
	MB_E_ILLEGALDATAADDR        -323    Illegal data address                    
	MB_E_ILLEGALDATAVALUE       -324    Illegal data value                      
	MB_E_SLAVEDEVICEFAILURE     -325    Slave device failure                    
	MB_E_ACKNOWLEDGE            -326    Acknowledge                             
	MB_E_SLAVEDEVICEBUSY        -327    Slave device busy                       
	MB_E_MEMORYPARITYERROR      -328    Memory parity error                     
	MB_E_GATEWAYPATHUNAV        -329    Gateway path unavailable                
	MB_E_GATEWAYDEVICEFAILED    -330    Gateway target device failed to respond 
	MB_E_TIMEOUT                -331    Time out richiesta
	MB_E_ILLEGALDATAPROTOCOL    -332    Illegal data value in protocol
	MB_E_COMMUNICATION          -333    Communication error
	MB_E_CONNECTION             -334    Connection error	
	
netStat can have the following meanings:
(node == 0, master)
	MB_MST_NOT_READY            0    Not ready
	MB_MST_READY                1    Ready
	MB_MST_START                2    Start
	MB_MST_STOP                 3    Stop
	MB_MST_RUN                  4    Run
	MB_MST_STOPPED              5    Stopped
	MB_MST_ERROR                6    Error
	
(node >= 1, slave)
	MB_SLV_DISCONNECTED         0    Disconnected
	MB_SLV_OPENCONN             1    Connection opened
	MB_SLV_CLOSECONN            2    Connection closed
	MB_SLV_PAR                  3    Parameters setting
	MB_SLV_RUN                  4    Running
	MB_SLV_WAITCONN             5    Waiting for connection establishment
" }	

END_VAR

	(************************)
	(*                   	*)
	(*     FUNCTIONS        *)
	(*                   	*)
	(************************)
	
FUNCTION ModbusRTU_Active : BOOL
	
	{ DE:"It is possible to deactivate a node in the network" }
	
	VAR_INPUT
	node : USINT; { DE:"The index of the node in the network" }
	active : BOOL; { DE:"Activate node in network" }
	END_VAR
	
	{CODE:EMBEDDED}

END_FUNCTION

	(************************)
	(*                   	*)
	(*     FUNCTIONS BLOCK  *)
	(*                   	*)
	(************************)

FUNCTION_BLOCK ModbusRTU_ReadReg_RW

	{ DE:"Read rw modbus register using ReadHoldingRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	res_dword : DWORD; { DE: "Result is always put in a dword" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusRTU_ReadReg_RO

	{ DE:"Read ro modbus register using ReadInputRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	res_dword : DWORD; { DE: "Result is always put in a dword" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusRTU_WriteReg_S

	{ DE:"Write modbus register using WriteSingleRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	data_raw : DWORD; { DE:"Data to be written" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusRTU_WriteReg_M

	{ DE:"Write modbus register using WriteMultipleRegisters modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	data_raw : DWORD; { DE:"Data to be written" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusTCP_ReadReg_RW

	{ DE:"Read rw modbus register using ReadHoldingRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	res_dword : DWORD; { DE: "Result is always put in a dword" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusTCP_ReadReg_RO

	{ DE:"Read ro modbus register using ReadInputRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	res_dword : DWORD; { DE: "Result is always put in a dword" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusTCP_WriteReg_S

	{ DE:"Write modbus register using WriteSingleRegister modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	data_raw : DWORD; { DE:"Data to be written" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK

FUNCTION_BLOCK ModbusTCP_WriteReg_M

	{ DE:"Write modbus register using WriteMultipleRegisters modbus command" }

	VAR_INPUT
	node : UINT; { DE:"The index of the node in the network" }
	reg_addr : UINT; { DE:"The address of the register to read" }
	data_type : MB_DATA_TYPE; { DE:"The type of the data to read" }
	data_raw : DWORD; { DE:"Data to be written" }
	tmo : UDINT; { DE:"Timeout in ms" }
	END_VAR

	VAR_OUTPUT
	esi : MB_ESI_VALUE; { DE:"Operation result" } 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION_BLOCK
]]>
			</lib>
			<lib name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\LLXPlugin_Alarms\PLC\Alarms.pll" fullXml="false" link="true">
				<![CDATA[
VAR_GLOBAL 

	{ G:"Global status" }
	sysAlarmCfgOk AT %MB60040.0 : BOOL;	{ DE:"Alarm manager properly configured" }
	sysAlarmActive AT %MB60040.1 : BOOL;	{ DE:"At least one alarm is active (associated condition holds true)" }
	sysAlarmWaitAck AT %MB60040.2 : BOOL;	{ DE:"No alarm is active but at least one alarm is waiting for acknowledgement" }

	{ G:"Counters" }
	sysAlarmCount AT %MW60041.0 : UINT;	{ DE:"Number of active alarms" }

END_VAR


	(*********************)
	(*                   *)
	(*     FUNCTIONS     *)
	(*                   *)
	(*********************)

FUNCTION sysAlarm_InitConfiguration : BOOL
{ DE:"Init configuration phase, specifying configuration name" }

	VAR_INPUT
	name : STRING[ 128 ]; { DE:"Configuration name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_EndConfiguration : BOOL
{ DE:"End configuration phase. After this call, all configuration functions will not work anymore." }

	VAR_INPUT
	dummy : USINT; 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_GlobalAck : BOOL
{ DE:"This function acknowledges all alarms waiting for acknowledge" }

	VAR_INPUT
		dummy : USINT;
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_AddAlarmGroup : BOOL
{ DE:"Creates a new alarm group, specifying its unique ID and label." }
	
	VAR_INPUT
		
		id : UINT;	{ DE:"Alarm code" }
		label : STRING[ 128 ];	{ DE:"Alarm ID" }
		
	END_VAR
	
	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmGroup_GetLabel : STRING
{ DE:"This function returns the label associated to the alarm group identified by its ID" }
	
	VAR_INPUT
		id : UINT;	{ DE:"Alarm group ID" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_AddBooleanFlagAlarm : BOOL
{ DE:"Creates a new alarm condition, based on the value of a variable of type BOOL, specifying its name. Returns an handle to the new alarm condition. Must be called between Alarms_InitConfiguration and Alarms_EndConfiguration." }

	VAR_INPUT
		
		code : UINT;	{ DE:"Alarm code" }
		label : STRING[ 128 ];	{ DE:"Alarm ID" }
		ack : ALARM_ACK_TYPE;	{ DE:"Type of alarm acknowledgement (manual or auto)" }
		groupId : UINT;	{ DE:"Alarm group" }
		level : USINT;		{ DE:"Alarm level (the lower the value the higher the alarm priority)" }
		address : DWORD;	{ DE:"Physical address of the variable of type BOOL representing the alarm condition status (if TRUE, alarm is active)" }
		
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_GetLabel : STRING
{ DE:"This function returns the label associated to the alarm identified by its code" }
	
	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_GetTime : BOOL
{ DE:"This function returns date and time of the event associated to the alarm identified by its code" }

	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
		day: @USINT;
		month: @USINT;
		year: @UINT;
		dayOfWeek: @UINT;
		hours: @USINT;
		minutes: @USINT;
		seconds: @USINT;
	END_VAR
	
	{CODE:EMBEDDED}

END_FUNCTION

FUNCTION Alarm_GetGroup : UINT
{ DE:"This function returns the alarm group ID associated to the alarm identified by its code" }
	
	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_GetLevel : USINT
{ DE:"This function returns the alarm level associated to the alarm identified by its code" }
	
	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_GetAckType : ALARM_ACK_TYPE
{ DE:"This function returns the alarm ACK type (AUTO/MANUAL) associated to the alarm identified by its code" }
	
	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_Ack : BOOL
{ DE:"This function acknowledges the alarm identified by its code" }

	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Alarm_IsWaitingForAck : BOOL
{ DE:"This function returns TRUE if the alarm identified by its code is waiting for acknowledgement" }

	VAR_INPUT
		code : UINT;	{ DE:"Alarm code" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_CreateAlarmQuery : ALARM_QUERY_HND
{ DE:"This function creates a new query and returns a handle to it" }

	VAR_INPUT
		dummy : USINT;	{ DE:"Not used" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_Query : ALARM_QUERY_RESULT_HND
{ DE:"This function actually performs the query and returns a handle to the query result" }

	VAR_INPUT
                query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_FilterByGroup : BOOL
{ DE:"This function sets a filter on alarm group" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
		groupId : UINT;	{ DE:"Alarm priority value by which query result has to be filtered" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_FilterByLevel : BOOL
{ DE:"This function sets a filter on alarm priority" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
		level : USINT;	{ DE:"Alarm priority value by which query result has to be filtered" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_SortByTime : BOOL
{ DE:"This function sets alarm activation timestamp as the criterion by which query result has to be sorted" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
		desc : BOOL;	{ DE:"Ascending/Descending order" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_SortByGroup : BOOL
{ DE:"This function sets the group ID as the criterion by which query result has to be sorted" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
		desc : BOOL;	{ DE:"Ascending/Descending order" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_SortByLevel : BOOL
{ DE:"This function sets alarm priority as the criterion by which query result has to be sorted" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
		desc : BOOL;	{ DE:"Ascending/Descending order" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQuery_Release : BOOL
{ DE:"This function release the query: its handle becomes invalid" }

	VAR_INPUT
		query : ALARM_QUERY_HND;	{ DE:"Handle to the query" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_GetCount : UINT
{ DE:"This function returns the number of records of the query result" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_SetWindow : BOOL
{ DE:"This function builds a window on the query result" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
		first : UINT;	{ DE:"First element of the window" }
		size : UINT;	{ DE:"Number of elements in the window" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_First : BOOL
{ DE:"This function moves the query result to the first element" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_Current : BOOL
{ DE:"This function returns TRUE if the current element of the query result is valid" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_Next : BOOL
{ DE:"This function moves the query result to the next element" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_GetAlarm : UINT
{ DE:"This function returns the alarm code associated to the current element of the query result" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmQueryResult_Release : BOOL
{ DE:"This function release the query result: its handle becomes invalid" }

	VAR_INPUT
		queryResult : ALARM_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_EnableLog : BOOL
{ DE:"This function enables/disables the alarm log" }

	VAR_INPUT
		enable : BOOL;	{ DE:"If TRUE, alarm log is enabled; it is disabled, otherwise" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_ResetLog : BOOL
{ DE:"This function resets the alarm log" }

	VAR_INPUT
		dummy : USINT;	{ DE:"Not used" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION sysAlarm_CreateAlarmLogQuery : ALARM_LOG_QUERY_HND
{ DE:"This function creates a new query and returns a handle to it" }

	VAR_INPUT
		dummy : USINT;	{ DE:"Not used" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQuery_Query : ALARM_LOG_QUERY_RESULT_HND
{ DE:"This function actually performs the query and returns a handle to the query result" }

	VAR_INPUT
                query : ALARM_LOG_QUERY_HND;	{ DE:"Handle to the query" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQuery_FilterByAlarm : BOOL
{ DE:"This function sets a filter on alarm" }

	VAR_INPUT
		query : ALARM_LOG_QUERY_HND;	{ DE:"Handle to the query" }
		code : UINT;	{ DE:"Alarm code by which query result has to be filtered" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQuery_FilterByGroup : BOOL
{ DE:"This function sets a filter on alarm group" }

	VAR_INPUT
		query : ALARM_LOG_QUERY_HND;	{ DE:"Handle to the query" }
		groupId : UINT;	{ DE:"Alarm group ID by which query result has to be filtered" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQuery_Release : BOOL
{ DE:"This function release the query: its handle becomes invalid" }

	VAR_INPUT
		query : ALARM_LOG_QUERY_HND;	{ DE:"Handle to the query" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_GetCount : UINT
{ DE:"This function returns the number of records of the query result" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_SetWindow : BOOL
{ DE:"This function builds a window on the query result" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
		first : UINT;	{ DE:"First element of the window" }
		size : UINT;	{ DE:"Number of elements in the window" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_First : BOOL
{ DE:"This function moves the query result to the first element" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_Current : BOOL
{ DE:"This function returns TRUE if the current element of the query result is valid" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_Next : BOOL
{ DE:"This function moves the query result to the next element" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_GetEvent : ALARM_LOG_EVENT
{ DE:"This function returns the event code associated to the current element of the query result" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_GetAlarm : UINT
{ DE:"This function returns the alarm code associated to the current element of the query result" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION AlarmLogQueryResult_GetTime : BOOL
{ DE:"This function returns date and time of the event associated to the current element of the query result" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
		day: @USINT;
		month: @USINT;
		year: @UINT;
		dayOfWeek: @UINT;
		hours: @USINT;
		minutes: @USINT;
		seconds: @USINT;
	END_VAR
	
	{CODE:EMBEDDED}

END_FUNCTION

FUNCTION AlarmLogQueryResult_Release : BOOL
{ DE:"This function release the query result: its handle becomes invalid" }

	VAR_INPUT
		queryResult : ALARM_LOG_QUERY_RESULT_HND;	{ DE:"Handle to the query result" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION


	(************************)
	(*                      *)
	(*      TYPEDEFS        *)
	(*                      *)
	(************************)

TYPE
	ALARM_QUERY_HND : DWORD;
	ALARM_QUERY_RESULT_HND : DWORD;
	ALARM_LOG_QUERY_HND : DWORD;
	ALARM_LOG_QUERY_RESULT_HND : DWORD;
END_TYPE


	(************************)
	(*                      *)
	(*        ENUMS         *)
	(*                      *)
	(************************)

TYPE

	ALARM_ACK_TYPE : (
		ACK_MANUAL := 1,
		ACK_AUTO := 2
	);

	ALARM_LOG_EVENT : (
		LOG_EVENT_ACTIVATION := 1,
		LOG_EVENT_DEACTIVATION := 2,
		LOG_EVENT_ACK := 3,
		LOG_EVENT_ACK_ATTEMPT := 4
	);
	
END_TYPE

]]>
			</lib>
			<lib name="c:\program files (x86)\axel pc tools\catalog\rasppi_2p0\rasppi\..\LLXPlugin_Recipes\PLC\Recipes.pll" fullXml="false" link="true">
				<![CDATA[
	(*********************)
	(*                   *)
	(*     FUNCTIONS     *)
	(*                   *)
	(*********************)

FUNCTION Recipes_InitConfiguration : BOOL

{ DE:"Init configuration phase, specifying configuration name" }

	VAR_INPUT
	name : STRING; { DE:"Configuration name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_EndConfiguration : BOOL

{ DE:"End configuration phase. After this call, all configuration functions will not work anymore." }

	VAR_INPUT
	dummy : USINT; 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_GetConfigurationName : STRING

{ DE:"Get configuration name, specified with Recipes_InitConfiguration" }

	VAR_INPUT
	dummy : USINT; 
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_CreateDefinition : RECIPE_DEFINITION_HANDLE

{ DE:"Creates a new recipe definition, specifying its name. Returns an handle to the new recipe. Must be called between Recipes_InitConfiguration and Recipes_EndConfiguration." }

	VAR_INPUT
	name : STRING; { DE:"New recipe definition name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_GetDefinition : RECIPE_DEFINITION_HANDLE

{ DE:"Returns an handle to an existing recipe definition, searching by its name." }

	VAR_INPUT
	name : STRING; { DE:"Recipe definition name to search" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_AddVariable : BOOL
{ DE:"(DEPRECATED) Adds a new variable to a recipe definition. Must be called between Recipes_InitConfiguration and Recipes_EndConfiguration." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Variable name" }
	type : RECIPE_DATA_TYPE; { DE:"Type of the variable" }
	address : DWORD; { DE:"Variable physical address" }
	strsize : DWORD; { DE:"Variable size for STRINGs" }
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION Recipes_AddNewVariable : BOOL
{ DE:"Adds a new variable to a recipe definition. Must be called between Recipes_InitConfiguration and Recipes_EndConfiguration." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Variable name" }
	type : RECIPE_DATA_TYPE; { DE:"Type of the variable" }
	address : DWORD; { DE:"Variable physical address" }
	strsize : DWORD; { DE:"Variable size for STRINGs" }
	format : STRING; { DE:"Format (for preview only)" }
	description : STRING; { DE:"Variable description" }
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION



FUNCTION Recipes_Load : RECIPE_RESULT

{ DE:"Loads values saved in the specified recipe in the corresponding variables. Waits for the operation to be executed and returns its exit code." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_Save : RECIPE_RESULT

{ DE:"Saves values saved to the specified recipe with the corresponding variables. Waits for the operation to be executed and returns its exit code." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_Delete : RECIPE_RESULT

{ DE:"Delete the specified recipe from disk. Waits for the operation to be executed and returns its exit code." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION



FUNCTION Recipes_QueueLoadRequest : RECIPE_REQUEST_HANDLE

{ DE:"Queues a load recipe request, that will be executed asynchronously. Returns an handle of the operation, that can be used to poll for result and termination with RecipeRequest_GetStatus or just closed with RecipeRequest_CloseHandle (that must be called in any case to avoid memory leaks)" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_QueueSaveRequest : RECIPE_REQUEST_HANDLE

{ DE:"Queues a save recipe request, that will be executed asynchronously. Returns an handle of the operation, that can be used to poll for result and termination with RecipeRequest_GetStatus or just closed with RecipeRequest_CloseHandle (that must be called in any case to avoid memory leaks)" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_QueueDeleteRequest : RECIPE_REQUEST_HANDLE

{ DE:"Queues a delete recipe request, that will be executed asynchronously. Returns an handle of the operation, that can be used to poll for result and termination with RecipeRequest_GetStatus or just closed with RecipeRequest_CloseHandle (that must be called in any case to avoid memory leaks)" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION


FUNCTION RecipeRequest_GetStatus : RECIPE_RESULT

{ DE:"Returns the execution or termination state of the specified request handle, returned by Recipes_Queue*Request functions family." }

	VAR_INPUT
	recipeRequest : RECIPE_REQUEST_HANDLE; { DE:"Recipe request handle" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION RecipeRequest_CloseHandle : BOOL

{ DE:"Closes the specified request handle. After this call the handle and RecipeRequest_GetStatus can not be used anymore" }

	VAR_INPUT
	recipeRequest : RECIPE_REQUEST_HANDLE; { DE:"Recipe request handle" }
	END_VAR

	{ CODE:EMBEDDED }

END_FUNCTION

FUNCTION Recipes_GetName : STRING
{ DE:"Gets the name of the specified recipe" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipesDefs_First : BOOL
{ DE:"Goes to first recipe definition to iterate on them" }

	VAR_INPUT
	dummy : USINT;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipesDefs_Current : BOOL
{ DE:"Checks if there is a valid recipe definition to iterate on them" }

	VAR_INPUT
	dummy : USINT;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipesDefs_Next : BOOL
{ DE:"Goes to next recipe definition to iterate on them" }

	VAR_INPUT
	dummy : USINT;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipesDefs_GetHandle : RECIPE_DEFINITION_HANDLE
{ DE:"Gets the handle of current recipe while iterating on them" }

	VAR_INPUT
	dummy : USINT;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION Recipes_GetFileList : RECIPE_FILELIST_HANDLE
{ DE:"Gets the list of existing files for the specified recipe" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeFileList_First : BOOL
{ DE:"Goes to first file in the list to iterate on them" }

	VAR_INPUT
	filelist : RECIPE_FILELIST_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeFileList_Next : BOOL
{ DE:"Goes to next file in the list to iterate on them" }

	VAR_INPUT
	filelist : RECIPE_FILELIST_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeFileList_Current : BOOL
{ DE:"Checks if there is a valid file in the list to iterate on them" }

	VAR_INPUT
	filelist : RECIPE_FILELIST_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeFileList_GetFileName : STRING
{ DE:"Gets the file name of the current file in the list" }

	VAR_INPUT
	filelist : RECIPE_FILELIST_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeFileList_CloseHandle : BOOL
{ DE:"Closes the specified list of files of the recipe" }

	VAR_INPUT
	filelist : RECIPE_FILELIST_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION Recipes_LoadPreview : RECIPE_RESULT
{ DE:"Loads values saved in the specified recipe for preview only. Waits for the operation to be executed and returns its exit code." }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE; { DE:"Recipe definition handle" }
	name : STRING; { DE:"Recipe name" }
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION


FUNCTION RecipeDef_First : BOOL
{ DE:"Goes to first variabile in the recipe definition to iterate on them" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeDef_Next : BOOL
{ DE:"Goes to next variabile in the recipe definition to iterate on them" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeDef_Current : BOOL
{ DE:"Checks if there is a valid variabile in the recipe definition to iterate on them" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeDef_GetVarName : STRING
{ DE:"Gets the name of the current variable in the recipe definition" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeDef_GetPreviewValue : STRING
{ DE:"Gets the preview value of the current variable in the recipe definition ('---' if the preview value is not valid)" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION

FUNCTION RecipeDef_GetDescription : STRING
{ DE:"Gets the description of the current variable in the recipe definition" }

	VAR_INPUT
	definition : RECIPE_DEFINITION_HANDLE;
	END_VAR

	{ CODE:EMBEDDED }
END_FUNCTION



	(************************)
	(*                      *)
	(*      TYPEDEFS        *)
	(*                      *)
	(************************)

TYPE
	RECIPE_DEFINITION_HANDLE : DWORD; 
	RECIPE_REQUEST_HANDLE : DWORD; 
	RECIPE_FILELIST_HANDLE : DWORD; 
END_TYPE

	(************************)
	(*                      *)
	(*        ENUMS         *)
	(*                      *)
	(************************)

TYPE

	RECIPE_DATA_TYPE: ( 
		recUndefined := 19,
		recBool := 1,
		recSInt := 2,
		recInt := 5,
		recDInt := 9,
		recLInt := 12,
		recUSInt := 3,
		recUInt := 6,
		recUDInt := 10,
		recULInt := 13,
		recReal := 15,
		recLReal := 16,
		recByte := 4,
		recWord := 7,
		recDWord := 11,
		recLWord := 14,
		recString := 17
	);

	RECIPE_RESULT: (
		RECIPE_OK := 0,
		RECIPE_INPROGRESS := 1,
		RECIPE_ERROR_IO := 2,
		RECIPE_ERROR_PARAMS := 3,
		RECIPE_ERROR_NOFILE := 4,
		RECIPE_ERROR_INVALIDTASK := 5
	);
	
END_TYPE

]]>
			</lib>
		</libraries>
		<aux/>
		<workspace>
			<root name="yo que se al cubo" nextID="112">
				<Pou name="main" id="1"/>
				<GlobalVars name="Global vars" id="2"/>
				<GlobalVars name="Ungrouped_vars" id="4"/>
				<Pou name="yo_que_se_al_cubo" id="6"/>
				<GlobalVars name="I_O_mappings" id="32"/>
			</root>
		</workspace>
	</sources>
	<codegen crossReference="false" crossReferenceOptions="0x3000001D" listing="true" hideSourceCodeInListing="true" saveEXPFile="false" saveEXPFileLibraries="false" saveTargetFiles="false" warningEnable="true" symMap="true" checkIndexType="false" waitExtension="false" allocateUnusedVariables="false" checkArrayBounds="false" checkDivisionByZero="false" checkPointers="false" checkReferences="false" checkInterfaces="false" customTargetBINFileName="PlcCode0.bin" customTargetTSCFileName="PlcSource0.bin" customTargetTDSFileName="PlcDebug0.bin" generateCustomFilesName="true">
		<disabledWarnings/>
		<applicationDataBlocks/>
	</codegen>
	<simWorkspaces>
		<simWorkspace>yo que se al cubo.WKSX</simWorkspace>
	</simWorkspaces>
	<debug watchRefresh="20" watchVarRefresh="0" watchMaxArray="20" autoSaveWatchList="false" watchFBLocalVars="false"/>
	<editor useOldGridSize="false"/>
	<userDef>
		<release/>
		<author/>
		<note/>
		<version/>
		<password disabled="false"/>
	</userDef>
	<downloadSequence sourceCode="onPLCApplicationDownload" debugSymbols="onPLCApplicationDownload"/>
	<commands>
		<postbuild/>
		<postdown/>
		<predown/>
	</commands>
	<resources>
		<configuration template="LogicLab.pct" version="1">
			<data protocol="root">
				<project_config nextID="0">
					<datacomment/>
				</project_config>
				<RaspPI_2p0 template="RaspPI_2p0\RaspPI\RaspPI_2p0.pct" version="6" name="Raspberry Pi" caption="Raspberry Pi">
					<config GPIOConfig="GPIO" model="3">
						<params/>
						<paramsRO/>
						<ioMappings>
							<ioMapping id="0" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="1" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="2" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="3" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="4" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="5" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="6" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="7" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="8" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="9" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="10" IOType="2" resistor="-1">
								<label>O1</label>
							</ioMapping>
							<ioMapping id="11" IOType="2" resistor="-1">
								<label>O2</label>
							</ioMapping>
							<ioMapping id="12" IOType="2" resistor="-1">
								<label>O3</label>
							</ioMapping>
							<ioMapping id="13" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="14" IOType="2" resistor="-1">
								<label>O4</label>
							</ioMapping>
							<ioMapping id="15" IOType="2" resistor="-1">
								<label>O5</label>
							</ioMapping>
							<ioMapping id="16" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="17" IOType="1" resistor="2">
								<label>I1</label>
							</ioMapping>
							<ioMapping id="18" IOType="1" resistor="2">
								<label>I2</label>
							</ioMapping>
							<ioMapping id="19" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="20" IOType="1" resistor="2">
								<label>I3</label>
							</ioMapping>
							<ioMapping id="21" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="22" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="23" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="24" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="25" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="26" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="27" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="28" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="29" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="30" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="31" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="32" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="33" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="34" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="35" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="36" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="37" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="38" IOType="-1" resistor="-1">
								<label/>
							</ioMapping>
							<ioMapping id="39" IOType="0" resistor="-1">
								<label/>
							</ioMapping>
						</ioMappings>
						<LLXPlugin_Recipes template="RaspPI_2p0\LLXPlugin_Recipes\LLXPlugin_Recipes.pct" version="2"/>
						<LLXPlugin_Alarms enableLog="false" logSize="100" template="RaspPI_2p0\LLXPlugin_Alarms\LLXPlugin_Alarms.pct" version="1">
							<alarmGroups/>
							<alarms/>
						</LLXPlugin_Alarms>
					</config>
					<RS485 protocol="" mode="0" baudRate="38400" serialMode="none,8,1" slaveAddress="1" COMdev="/dev/ttyUSB0"/>
					<Ethernet protocol="" enableMaster="0" enableSlave="0" enableSlaveRtuGateway="0" rtuGatewayDefaultTimeout="100" slavePort="502"/>
				</RaspPI_2p0>
			</data>
		</configuration>
	</resources>
</plcProject>